"use strict";exports.id=1616,exports.ids=[1616],exports.modules={1454:(a,b,c)=>{c.d(b,{F:()=>f});var d=c(13486);let e=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_1487_106428)",children:[(0,d.jsx)("path",{opacity:"0.2",d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",fill:"#DC2626"}),(0,d.jsx)("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"#DC2626",strokeWidth:"1.25",strokeMiterlimit:10}),(0,d.jsx)("path",{d:"M10 10.625V6.25",stroke:"#DC2626",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 14.375C10.5178 14.375 10.9375 13.9553 10.9375 13.4375C10.9375 12.9197 10.5178 12.5 10 12.5C9.48223 12.5 9.0625 12.9197 9.0625 13.4375C9.0625 13.9553 9.48223 14.375 10 14.375Z",fill:"#DC2626"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_1487_106428",children:(0,d.jsx)("rect",{width:20,height:20,fill:"white"})})})]});c(60159);let f=({message:a})=>(0,d.jsxs)("div",{style:{color:"var(--color-secondary-800)",backgroundColor:"var(--color-primary-50)"},className:"flex items-center text-base gap-2 ring-1 ring-[var(--color-primary-50)] px-3 py-2",role:"alert",children:[e,(0,d.jsx)("p",{className:"text-base leading-6 tracking[-0.04px]",children:a})]})},22696:(a,b,c)=>{c.d(b,{m:()=>e});var d=c(13486);let e=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,d.jsx)("g",{clipPath:"url(#clip0_441_13496)",children:(0,d.jsx)("path",{d:"M15 19.5L7.5 12L15 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_441_13496",children:(0,d.jsx)("rect",{width:24,height:24,fill:"white"})})})]})},29933:(a,b,c)=>{c.d(b,{A:()=>w});var d=c(13486),e=c(1454),f=c(10716),g=c(19413),h=c(63138),i=c(30468),j=c(22696),k=c(93283);let l=(0,k.J1)`
  mutation AddAddress($input: AddressInput!) {
    accountAddressCreate(input: $input) {
      user { id }
      address {
        id
        firstName
        lastName
        streetAddress1
        city
        postalCode
        country { code country }
        phone
      }
      errors { field message code }
    }
  }
`,m=(0,k.J1)`
  mutation UpdateAddress($id: ID!, $input: AddressInput!) {
    accountAddressUpdate(id: $id, input: $input) {
      address {
        id
        firstName
        lastName
        streetAddress1
        city
        postalCode
        country { code country }
        phone
      }
      errors { field message code }
    }
  }
`;var n=c(86010),o=c(38948),p=c(4308),q=c(62693),r=c(60159),s=c(51032),t=c(2500),u=c(3694),v=c(73053);let w=({isModalOpen:a,onClose:b,formData:c,setFormData:k,editingId:w,getMethods:x,onAddressAdded:y})=>{let{data:z,error:A,refetch:B}=(0,p.IT)(o.D,{fetchPolicy:"cache-and-network"}),[C,{loading:D}]=(0,q.n)(l,{refetchQueries:[{query:o.D}]}),[E,{loading:F}]=(0,q.n)(m,{refetchQueries:[{query:o.D}]}),[G,{loading:H}]=(0,q.n)(n.Y),I=z?.me,[J,K]=(0,r.useState)(null),[L,M]=(0,r.useState)(null),[N,O]=(0,r.useState)({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""}),[P,Q]=(0,r.useState)({billing:!1,shipping:!1}),[R,S]=(0,r.useState)(!1),T=(0,r.useMemo)(()=>u.A.getAllCountries().map(a=>({value:a.isoCode,label:a.name})),[]),U=(0,r.useMemo)(()=>c.country?v.Ay.getStatesOfCountry(c.country).map(a=>({value:a.isoCode,label:a.name})):[],[c.country]);(0,r.useEffect)(()=>{O({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""}),M(null),Q({billing:!!(c?.id&&x?.defaultBillingId===c?.id),shipping:!!(c?.id&&x?.defaultShippingId===c?.id)})},[a,c?.id,x?.defaultBillingId,x?.defaultShippingId]);let V=async a=>{if(a.preventDefault(),M(null),(()=>{O({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""});let a={firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""},b=!1;return c.firstName.trim()||(a.firstName="First name is required.",b=!0),c.lastName.trim()||(a.lastName="Last name is required.",b=!0),c.phone?.trim()||(a.phone="Phone Number is required.",b=!0),c.country?.trim()||(a.country="Country is required.",b=!0),c.countryArea?.trim()||(a.countryArea="State is required.",b=!0),c.city?.trim()||(a.city="City is required.",b=!0),c.streetAddress1?.trim()||(a.streetAddress1="Street address is required.",b=!0),c.postalCode?.trim()||(a.postalCode="Postal code is required.",b=!0),O(a),!b})()){S(!0);try{let a=J;if(w){let{data:b}=await E({variables:{id:w,input:{firstName:c.firstName,lastName:c.lastName,phone:c.phone||void 0,companyName:c.companyName||void 0,streetAddress1:c.streetAddress1,streetAddress2:c.streetAddress2||void 0,city:c.city,postalCode:c.postalCode,country:c.country,countryArea:c.countryArea||void 0}}}),d=b?.accountAddressUpdate.errors||[];if(d.length){M(d[0]?.message||"Unable to update address."),S(!1);return}a=w}else{let{data:b}=await C({variables:{input:{firstName:c.firstName,lastName:c.lastName,phone:c.phone||void 0,companyName:c.companyName||void 0,streetAddress1:c.streetAddress1,streetAddress2:c.streetAddress2||void 0,city:c.city,postalCode:c.postalCode,country:c.country,countryArea:c.countryArea||void 0}}}),d=b?.accountAddressCreate.errors||[];if(d.length){M(d[0]?.message||"Unable to add address."),S(!1);return}if(!(a=b?.accountAddressCreate.address?.id||null)){M("Address was not created successfully."),S(!1);return}}let d=[];P.billing&&a&&d.push(G({variables:{id:a,type:"BILLING"}})),P.shipping&&a&&d.push(G({variables:{id:a,type:"SHIPPING"}})),d.length>0&&await Promise.all(d),await B(),y&&await y(),b()}catch(a){console.error("Address submission error:",a),M("Something went wrong. Please try again.")}finally{S(!1)}}};return(0,r.useEffect)(()=>{if(I?.addresses&&c?.id){let a=I.addresses.find(a=>a.id===c.id);a&&K(a.id)}},[I,c?.id]),(0,d.jsx)(i.A,{isModalOpen:a,onClose:b,heading:"Add New Address",children:(0,d.jsxs)("form",{onSubmit:V,className:"mt-10 space-y-10",children:[(0,d.jsxs)("div",{className:"space-y-5 w-full font-secondary font-normal text-[var(--color-secondary-600)] text-base",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[(0,d.jsx)("div",{children:(0,d.jsx)(g.A,{label:"First Name",name:"firstName",placeholder:"Enter First Name",value:c.firstName,onChange:a=>{let b=a.target.value.replace(/[^A-Za-z ]/g,"");k(a=>({...a,firstName:b}))},hasError:!!N.firstName,errorMessage:N.firstName})}),(0,d.jsx)(g.A,{label:"Last Name",name:"lastName",placeholder:"Enter Last Name",value:c.lastName,onChange:a=>{let b=a.target.value.replace(/[^A-Za-z ]/g,"");k(a=>({...a,lastName:b}))},hasError:!!N.lastName,errorMessage:N.lastName}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-[var(--color-secondary-800)] pb-2 uppercase",children:"Phone Number"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(s.LR,{name:"phoneNumber",inputProps:{id:"phoneNumber","aria-invalid":N.phone?"true":void 0,"aria-describedby":N.phone?"phoneNumber-error":void 0},defaultCountry:"us",value:c.phone,className:(0,t.cn)("text-sm font-normal font-secondary text-[var(--color-secondary-800)] flex h-12 w-full !bg-white [&>div>button>div]:flex [&>div>button>div]:gap-3 [&>div>button]:!h-full [&>div>button>div>img]:!w-9 [&>div>button>div>img]:!pl-4 [&>div>button]:!w-[95px] [&>div>button]:border [&>div>button]:cursor-pointer [&>input]:border [&>div>button]:mr-1.5 [&>div>button]:border-r-dot-black-200 [&>div>button]:!bg-white [&>div]:!h-full [&>input]:!h-full [&>input]:w-full [&>input]:!bg-white [&>input]:px-4 [&>input]:py-3 [&>input]:outline-none",N.phone?"[&>input]:border-[var(--color-primary-600)] [&>div>button]:border-[var(--color-primary-600)]":"[&>input]:border-[var(--color-secondary-200)] [&>div>button]:border-[var(--color-secondary-200)]"),onChange:a=>k(b=>({...b,phone:a}))}),(0,d.jsx)("div",{className:"size-4 text-[var(--color-primary-600)] absolute left-14 rotate-[270deg] top-1/2 -translate-y-1/2 pointer-events-none","aria-hidden":"true",children:j.m})]}),N.phone&&(0,d.jsx)("div",{id:"phoneNumber-error",role:"alert",style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:N.phone})]}),(0,d.jsx)(h.A,{label:"Country",name:"country",placeholder:"Select Country",value:c.country,options:T,onChange:a=>{k(b=>({...b,country:a.target.value,countryArea:"",city:""}))},hasError:!!N.country,errorMessage:N.country}),(0,d.jsx)(h.A,{label:"State",name:"countryArea",placeholder:"Select State",value:c.countryArea,options:U,onChange:a=>{k(b=>({...b,countryArea:a.target.value,city:""}))},hasError:!!N.countryArea,errorMessage:N.countryArea,disabled:!c.country}),(0,d.jsx)(g.A,{label:"City",name:"city",placeholder:"Enter City",value:c.city,onChange:a=>k(b=>({...b,city:a.target.value})),hasError:!!N.city,errorMessage:N.city,parentClassName:"md:col-span-2"}),(0,d.jsx)(g.A,{label:"Street Address",name:"streetAddress1",placeholder:"Enter your Street Address",value:c.streetAddress1,onChange:a=>k(b=>({...b,streetAddress1:a.target.value})),parentClassName:"md:col-span-2",hasError:!!N.streetAddress1,errorMessage:N.streetAddress1}),(0,d.jsx)(g.A,{label:"ZIP / POSTAL CODE",name:"postalCode",placeholder:"Enter ZIP / Postal Code",parentClassName:"md:col-span-2",value:c.postalCode,onChange:a=>k(b=>({...b,postalCode:a.target.value})),hasError:!!N.postalCode,errorMessage:N.postalCode})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[(0,d.jsx)("input",{id:"defaultBilling",type:"checkbox",checked:P.billing,onChange:a=>Q(b=>({...b,billing:a.target.checked})),className:"accent-[var(--color-primary-600)] size-4 cursor-pointer"}),(0,d.jsx)("label",{htmlFor:"defaultBilling",className:"cursor-pointer",children:"Default billing address"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[(0,d.jsx)("input",{id:"defaultShipping",type:"checkbox",checked:P.shipping,onChange:a=>Q(b=>({...b,shipping:a.target.checked})),className:"accent-[var(--color-primary-600)] size-4 cursor-pointer"}),(0,d.jsx)("label",{htmlFor:"defaultShipping",className:"cursor-pointer",children:"Default shipping address"})]})]}),(0,d.jsxs)("div",{className:"flex-col gap-2",children:[A&&(0,d.jsx)(e.F,{message:"Failed to load addresses."}),L&&(0,d.jsx)(e.F,{message:L})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsx)(f.A,{type:"submit",disabled:R||D||F||H,variant:"primary",className:"w-full text-sm md:text-base py-2.5 md:py-3 disabled:opacity-50 transition-opacity",content:R?"Saving...":"Save"}),(0,d.jsx)(f.A,{variant:"secondary",className:"w-full text-sm md:text-base py-2.5 md:py-3",content:"Cancel",onClick:()=>{b()}})]})]})})}},30468:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(13486),e=c(2500);let f=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_1262_29632)",children:[(0,d.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_1262_29632",children:(0,d.jsx)("rect",{width:16,height:16,fill:"white"})})})]});var g=c(60159);let h=({children:a,isModalOpen:b,onClose:c,className:h,removeCrossIcon:i,removeBgClose:j=!1,heading:k})=>{let l=(0,g.useRef)(null),m=(0,g.useRef)(null),n=(0,g.useId)(),o=(0,g.useCallback)(a=>{"Escape"!==a.key||j||c()},[c,j]),p=(0,g.useCallback)(a=>{if("Tab"!==a.key||!l.current)return;let b=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),c=b[0],d=b[b.length-1];a.shiftKey&&document.activeElement===c?(a.preventDefault(),d?.focus()):a.shiftKey||document.activeElement!==d||(a.preventDefault(),c?.focus())},[]);return(0,g.useEffect)(()=>(b?(m.current=document.activeElement,document.body.style.overflow="hidden",document.addEventListener("keydown",o),document.addEventListener("keydown",p),requestAnimationFrame(()=>{let a=l.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');a&&a.length>0?a[0].focus():l.current?.focus()})):(document.body.style.overflow="auto",document.removeEventListener("keydown",o),document.removeEventListener("keydown",p),m.current&&m.current.focus()),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keydown",p)}),[b,o,p]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:(0,e.cn)("",b?"fixed left-0 top-0 h-full w-full z-[100]":""),children:[b&&(0,d.jsx)("div",{onClick:()=>{j||c()},"aria-hidden":"true",className:"bg-black/60 w-full h-full absolute top-0 z-[110]"}),(0,d.jsxs)("div",{ref:l,role:"dialog","aria-modal":"true","aria-labelledby":k?n:void 0,tabIndex:-1,className:(0,e.cn)("fixed bottom-0 overflow-y-auto lg:inset-0 h-[calc(100dvh-8rem)] m-auto w-full lg:h-fit z-[120] bg-white lg:max-w-5xl px-4 py-6 md:px-6 lg:p-10 transition-all duration-[400ms] ease-in-out",b?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none",h),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between w-full",children:[k&&(0,d.jsx)("h2",{id:n,className:"font-semibold text-[var(--color-secondary-800)] font-secondary text-xl",children:k}),!i&&(0,d.jsx)("button",{onClick:c,"aria-label":"Close modal",className:"text-black absolute top-5 right-5 [&>svg]:size-4 size-6 p-1 rounded-full bg-[var(--color-secondary-200)] hover:bg-[var(--color-secondary-400)]/20 cursor-pointer",children:f})]}),a]})]})})}},45668:(a,b,c)=>{c.d(b,{c:()=>e});var d=c(13486);let e=(0,d.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_1480_106351)",children:[(0,d.jsx)("path",{d:"M3.125 10H16.875",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 3.125V16.875",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_1480_106351",children:(0,d.jsx)("rect",{width:20,height:20,fill:"white"})})})]})},63138:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(13486);c(60159);var e=c(2500);let f=({options:a,placeholder:b="Select an option",className:c="",parentClassName:f,value:g,style:h,label:i,hasError:j=!1,errorMessage:k,darkTheme:l=!1,htmlFor:m,...n})=>{let o=m?`${m}-error`:void 0;return(0,d.jsxs)("div",{className:(0,e.cn)("w-full",f),children:[i&&(0,d.jsx)("label",{htmlFor:m,className:(0,e.cn)("block text-sm font-medium pb-2 uppercase leading-5 tracking-[-0.035px]",l?"text-[var(--color-secondary-200)]":"text-[var(--color-secondary-800)]"),children:i}),(0,d.jsxs)("div",{className:"relative w-full",children:[(0,d.jsxs)("select",{id:m,value:g,style:h,"aria-invalid":j?"true":void 0,"aria-describedby":j&&o?o:void 0,className:(0,e.cn)("w-full p-2 ring-1 bg-zinc-50 hover:bg-zinc-100 focus-visible:ring-[var(--color-secondary-600)] transition-all ease-in-out duration-300 outline-none disabled:text-black/20 cursor-pointer disabled:pointer-events-none px-4 pr-12 text-sm font-normal font-secondary appearance-none","text-[var(--color-secondary-800)] ring-[var(--color-secondary-200)] disabled:bg-[var(--color-secondary-200)] disabled:ring-[var(--color-secondary-300)]",j?"ring-[var(--color-primary-600)]":"ring-[var(--color-secondary-200)]",l&&" ring-[var(--color-secondary-700)] text-[var(--color-secondary-200)] disabled:bg-[var(--color-secondary-800)] disabled:ring-0 disabled:text-[var(--color-secondary-600)]",c),...n,children:[(0,d.jsx)("option",{value:"",disabled:!0,children:b}),a.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none","aria-hidden":"true",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-[var(--color-secondary-600)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),k&&(0,d.jsx)("div",{id:o,role:"alert",style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:k})]})}}};