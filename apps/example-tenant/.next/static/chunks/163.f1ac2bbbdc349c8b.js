"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{163:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(54568),r=a(7620),l=a(91039),n=a(39208);let d=(0,l.default)(()=>Promise.all([a.e(498),a.e(2762)]).then(a.bind(a,42762)).then(e=>({default:e.SaleorNativePayment})),{loadableGenerated:{webpack:()=>[42762]},loading:()=>(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"})]}),ssr:!1});function o(e){let{onBack:s,totalAmount:a,checkoutId:l,onComplete:o,onStartPayment:c,isProcessingPayment:i,setIsProcessingPayment:m,availablePaymentGateways:u,kountConfig:h,selectedShippingId:x,userEmail:b,guestEmail:g,lineItems:p,billingAddress:v,shippingAddress:y,questionsValid:f=!0,termsAccepted:N=!0,termsData:j,onTermsModalOpen:k,onTermsAcceptedChange:C,taxInfo:w,disabled:P=!1,isCalculatingTotal:A=!1,onPaymentReady:E}=e,[S,I]=(0,r.useState)(null),[T,M]=(0,r.useState)(!1),[_,B]=(0,r.useState)(""),z=(0,r.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";I({message:e,type:s}),setTimeout(()=>I(null),3e3)},[]),D=(0,r.useCallback)(e=>{M(!0),B(e)},[]);return(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,t.jsx)("h2",{className:"text-base font-secondary text-[var(--color-secondary-800)] font-semibold",children:"PAYMENT METHOD"})}),S&&(0,t.jsx)("div",{className:"mb-4 p-3 rounded-md ".concat("error"===S.type?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:S.message}),P&&(0,t.jsxs)("div",{className:"text-xs font-secondary text-white items-center bg-[var(--color-secondary-100)] border border-[var(--color-secondary-200)] p-2 mb-4 flex  gap-2",children:[A?(0,t.jsxs)("svg",{className:"w-5 h-5 text-white mt-0.5 flex-shrink-0 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.w,(0,t.jsx)("p",{children:A?"Calculating total...":"Please select a delivery method to enable payment options."})]}),T?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-red-800 font-medium mb-2",children:"Checkout Unavailable"}),(0,t.jsx)("div",{className:"text-red-700 text-sm",children:_})]}):(0,t.jsx)(d,{checkoutId:l,totalAmount:a,onSuccess:()=>o(),onError:e=>z(e,"error"),onCheckoutBlocked:D,setIsProcessingPayment:m,availablePaymentGateways:u,kountConfig:h,onStartPayment:c,selectedShippingId:x,userEmail:b,guestEmail:g,lineItems:p,billingAddress:v,shippingAddress:y,questionsValid:f,termsAccepted:N,termsData:j,onTermsModalOpen:k,onTermsAcceptedChange:C,taxInfo:w,disabled:P,onPaymentReady:E})]})}}}]);