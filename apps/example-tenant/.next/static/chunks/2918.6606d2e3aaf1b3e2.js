"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{62918:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(54568),r=a(15904),l=a(91942),n=a(59470),d=a(16954),o=a(59136),i=a(75188),c=a(63911),u=a(7620),m=a(48758),p=a(59270);function v(e){var s,a,r,l,n,d,m,p;let{meData:v,selectedAddressId:y,setSelectedAddressId:x,onAdded:h,formData:g,setFormData:b,title:N="SHIPPING DETAILS",groupName:f="accountAddress",handleSetDefaultAddress:j}=e,[A,C]=(0,u.useState)(!1),[S,w]=(0,u.useState)(null),I=null==v?void 0:v.me,k=null==I||null==(s=I.defaultShippingAddress)?void 0:s.id,q=null==I||null==(a=I.defaultBillingAddress)?void 0:a.id,[D]=(0,u.useState)({defaultShippingId:k||null,defaultBillingId:q||null}),P=async e=>{if(x(e.id),j)try{"accountAddress"===f?await j(e.id,"SHIPPING"):"billingAddress"===f&&await j(e.id,"BILLING")}catch(e){console.error("Error setting default address:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold font-secondary text-[var(--color-secondary-800)] mb-3 uppercase",children:N}),(0,t.jsxs)("div",{className:" grid grid-cols-2 gap-2",children:[null==v||null==(l=v.me)||null==(r=l.addresses)?void 0:r.map(e=>{var s;return(0,t.jsxs)("div",{onClick:()=>P(e),className:"border flex justify-between w-full items-center px-4 py-2 cursor-pointer ".concat(y===e.id?"border-[var(--color-primary-100)] bg-[var(--color-primary-50)]":"border-[var(--color-secondary-200)] bg-white hover:bg-gray-50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"radio",name:f,className:"mt-1 accent-[var(--color-primary-600)]",checked:y===e.id,onChange:()=>P(e)}),(0,t.jsxs)("div",{className:"font-secondary text-sm text-gray-800 space-y-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.companyName}),(0,t.jsxs)("div",{className:"flex items-center gap-1 font-medium text-sm  text-[var(--color-secondary-800)]",children:[e.streetAddress1," ",e.city," ",e.countryArea?", ".concat(e.countryArea):""," ",e.postalCode," ",null==(s=e.country)?void 0:s.country]}),(0,t.jsx)("div",{className:"text-[var(--color-secondary-800)] text-sm  font-normal",children:e.phone&&(0,t.jsx)("div",{className:"text-gray-600",children:e.phone})})]})]}),(0,t.jsx)(i.A,{variant:"tertiary",className:"text-sm p-0",onClick:()=>{w(e.id),b({id:e.id,firstName:e.firstName,lastName:e.lastName,phone:e.phone||"",companyName:e.companyName||"",streetAddress1:e.streetAddress1,streetAddress2:e.streetAddress2||"",city:e.city,postalCode:e.postalCode,country:e.country.code,countryArea:e.countryArea||""}),C(!0)},children:"Edit"})]},e.id)}),(null==v||null==(d=v.me)||null==(n=d.addresses)?void 0:n.length)===0&&(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No addresses yet. Click below to add your first address."})]}),(0,t.jsx)("button",{onClick:()=>{C(!0),b({firstName:"",lastName:"",phone:"",streetAddress1:"",city:"",postalCode:"",country:"US",countryArea:"",companyName:"",streetAddress2:""})},className:"mt-4 text-[var(--color-secondary-800)] underline underline-offset-4 uppercase transition-all ease-in-out duration-300 cursor-pointer font-semibold hover:text-[var(--color-primary-600)] text-sm font-secondary",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-5 text-[var(--color-primary-600)]",children:o.c}),(0,t.jsx)("p",{children:(null==v||null==(p=v.me)||null==(m=p.addresses)?void 0:m.length)===0?"Add Address":"Add New Address"})]})})]}),(0,t.jsx)("div",{className:"relative z-20",children:(0,t.jsx)(c.A,{getMethods:D,editingId:S,isModalOpen:A,onClose:()=>{C(!1),w(null)},formData:g,setFormData:b,onAddressAdded:h})})]})}function y(e){let{isLoggedIn:s,shippingInfo:a,billingInfo:o,useShippingAsBilling:i,onShippingChange:c,onBillingChange:y,onUseShippingAsBillingChange:x,onShippingPhoneChange:h,onBillingPhoneChange:g,meData:b,formData:N,setFormData:f,selectedAddressId:j,setSelectedAddressId:A,selectedBillingAddressId:C,setSelectedBillingAddressId:S,onAddressAdded:w,onSetDefaultAddress:I}=e,k=(0,u.useMemo)(()=>m.A.getAllCountries().map(e=>({value:e.isoCode,label:e.name})),[]),q=(0,u.useMemo)(()=>a.country?p.Ay.getStatesOfCountry(a.country).map(e=>({value:e.isoCode,label:e.name})):[],[a.country]),D=(0,u.useMemo)(()=>o.country?p.Ay.getStatesOfCountry(o.country).map(e=>({value:e.isoCode,label:e.name})):[],[o.country]);return s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v,{meData:b,formData:N,setFormData:f,selectedAddressId:j,setSelectedAddressId:A,onAdded:w,handleSetDefaultAddress:I}),(0,t.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{id:"useShippingAsBilling_logged",type:"checkbox",className:"accent-[var(--color-primary-600)]",checked:i,onChange:e=>x(e.target.checked)}),(0,t.jsx)("label",{htmlFor:"useShippingAsBilling_logged",className:"text-base font-normal text-[var(--color-secondary-600)] select-none cursor-pointer",children:"Use shipping address as billing address."})]}),!i&&(0,t.jsx)(v,{formData:N,setFormData:f,meData:b,selectedAddressId:C,setSelectedAddressId:S,onAdded:w,title:"Billing Address",groupName:"billingAddress",handleSetDefaultAddress:I})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold font-secondary text-[var(--color-secondary-800)] mb-3",children:"SHIPPING DETAILS"}),(0,t.jsxs)("div",{className:"space-y-4 md:space-y-2 w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.A,{label:"First Name",name:"firstName",type:"text",value:a.firstName,onChange:c,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"Last Name",name:"lastName",type:"text",value:a.lastName,onChange:c,required:!0,className:"py-2"})]}),(0,t.jsx)(l.A,{label:"Street Address",name:"address",type:"text",value:a.address,onChange:c,required:!0,className:"py-2"}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[var(--color-secondary-800)] pb-2 uppercase",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.LR,{required:!0,name:"phoneNumber",defaultCountry:"us",value:a.phone,className:"text-sm font-normal font-secondary text-[var(--color-secondary-800)] flex h-9 w-full !bg-white [&>div>button>div]:flex [&>div>button>div]:gap-3 [&>div>button]:!h-full [&>div>button>div>img]:!w-9 [&>div>button>div>img]:!pl-4 [&>div>button]:!w-[95px] [&>div>button]:border [&>div>button]:cursor-pointer [&>div>button]:border-[var(--color-secondary-200)] [&>input]:border [&>input]:border-[var(--color-secondary-200)] [&>div>button]:mr-1.5 [&>div>button]:border-r-dot-black-200 [&>div>button]:!bg-white [&>div]:!h-full [&>input]:!h-full [&>input]:w-full [&>input]:!bg-white [&>input]:px-4 [&>input]:py-3 [&>input]:outline-none",onChange:h}),(0,t.jsx)("div",{className:"size-4 text-[var(--color-primary-600)] absolute left-14 rotate-[270deg] top-1/2 -translate-y-1/2 pointer-events-none",children:d.m})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(n.A,{label:"Country",name:"country",value:a.country,options:k,onChange:e=>{c({target:{name:"country",value:e.target.value}}),c({target:{name:"state",value:""}})},required:!0,className:"py-2"}),(0,t.jsx)(n.A,{label:"State",name:"state",value:a.state,options:q,onChange:c,disabled:!a.country,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"ZIP / Postal Code",name:"zipCode",type:"text",value:a.zipCode,onChange:c,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"City",name:"city",type:"text",value:a.city,onChange:c,required:!0,className:"py-2"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer mt-8",children:[(0,t.jsx)("input",{id:"useShippingAsBilling",type:"checkbox",className:"accent-[var(--color-primary-600)]",checked:i,onChange:e=>x(e.target.checked)}),(0,t.jsx)("label",{htmlFor:"useShippingAsBilling",className:"text-base font-normal text-[var(--color-secondary-600)] select-none",children:"Use shipping address as billing address."})]}),!i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold font-secondary text-[var(--color-secondary-800)] mt-6 mb-3 md:mb-5 lg:mt-8",children:"BILLING DETAILS"}),(0,t.jsxs)("div",{className:"space-y-4 md:space-y-2 w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.A,{label:"First Name",name:"firstName",type:"text",value:o.firstName,onChange:y,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"Last Name",name:"lastName",type:"text",value:o.lastName,onChange:y,required:!0,className:"py-2"})]}),(0,t.jsx)(l.A,{label:"Street Address",name:"address",type:"text",value:o.address,onChange:y,required:!0,className:"py-2"}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[var(--color-secondary-800)] pb-2 uppercase",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.LR,{required:!0,name:"phone",defaultCountry:"us",value:o.phone,className:"text-sm font-normal font-secondary text-[var(--color-secondary-800)] flex h-9 w-full !bg-white [&>div>button>div]:flex [&>div>button>div]:gap-3 [&>div>button]:!h-full [&>div>button>div>img]:!w-9 [&>div>button>div>img]:!pl-4 [&>div>button]:!w-[95px] [&>div>button]:border [&>div>button]:cursor-pointer [&>div>button]:border-[var(--color-secondary-200)] [&>input]:border [&>input]:border-[var(--color-secondary-200)] [&>div>button]:mr-1.5 [&>div>button]:border-r-dot-black-200 [&>div>button]:!bg-white [&>div]:!h-full [&>input]:!h-full [&>input]:w-full [&>input]:!bg-white [&>input]:px-4 [&>input]:py-3 [&>input]:outline-none",onChange:g}),(0,t.jsx)("div",{className:"size-4 text-[var(--color-primary-600)] absolute left-14 rotate-[270deg] top-1/2 -translate-y-1/2 pointer-events-none",children:d.m})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(n.A,{label:"Country",name:"country",value:o.country,options:k,onChange:e=>{y({target:{name:"country",value:e.target.value}}),y({target:{name:"state",value:""}})},required:!0,className:"py-2"}),(0,t.jsx)(n.A,{label:"State",name:"state",value:o.state,options:D,onChange:y,disabled:!o.country,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"ZIP / Postal Code",name:"zipCode",type:"text",value:o.zipCode,onChange:y,required:!0,className:"py-2"}),(0,t.jsx)(l.A,{label:"City",name:"city",type:"text",value:o.city,onChange:y,required:!0,className:"py-2"})]})]})]})]})}}}]);