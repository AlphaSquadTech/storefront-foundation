"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2922],{16954:(e,r,t)=>{t.d(r,{m:()=>s});var a=t(54568);let s=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_441_13496)",children:(0,a.jsx)("path",{d:"M15 19.5L7.5 12L15 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_441_13496",children:(0,a.jsx)("rect",{width:24,height:24,fill:"white"})})})]})},38084:(e,r,t)=>{t.d(r,{F:()=>n});var a=t(54568);let s=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1487_106428)",children:[(0,a.jsx)("path",{opacity:"0.2",d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",fill:"#DC2626"}),(0,a.jsx)("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"#DC2626",strokeWidth:"1.25",strokeMiterlimit:10}),(0,a.jsx)("path",{d:"M10 10.625V6.25",stroke:"#DC2626",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 14.375C10.5178 14.375 10.9375 13.9553 10.9375 13.4375C10.9375 12.9197 10.5178 12.5 10 12.5C9.48223 12.5 9.0625 12.9197 9.0625 13.4375C9.0625 13.9553 9.48223 14.375 10 14.375Z",fill:"#DC2626"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1487_106428",children:(0,a.jsx)("rect",{width:20,height:20,fill:"white"})})})]});t(7620);let n=e=>{let{message:r}=e;return(0,a.jsxs)("div",{style:{color:"var(--color-secondary-800)",backgroundColor:"var(--color-primary-50)"},className:"flex items-center text-base gap-2 ring-1 ring-[var(--color-primary-50)] px-3 py-2",role:"alert",children:[s,(0,a.jsx)("p",{className:"text-base leading-6 tracking[-0.04px]",children:r})]})}},59136:(e,r,t)=>{t.d(r,{c:()=>s});var a=t(54568);let s=(0,a.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1480_106351)",children:[(0,a.jsx)("path",{d:"M3.125 10H16.875",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 3.125V16.875",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1480_106351",children:(0,a.jsx)("rect",{width:20,height:20,fill:"white"})})})]})},59470:(e,r,t)=>{t.d(r,{A:()=>n});var a=t(54568);t(7620);var s=t(53706);let n=e=>{let{options:r,placeholder:t="Select an option",className:n="",parentClassName:l,value:o,style:i,label:d,hasError:c=!1,errorMessage:u,darkTheme:p=!1,htmlFor:m,...h}=e,v=m?"".concat(m,"-error"):void 0;return(0,a.jsxs)("div",{className:(0,s.cn)("w-full",l),children:[d&&(0,a.jsx)("label",{htmlFor:m,className:(0,s.cn)("block text-sm font-medium pb-2 uppercase leading-5 tracking-[-0.035px]",p?"text-[var(--color-secondary-200)]":"text-[var(--color-secondary-800)]"),children:d}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsxs)("select",{id:m,value:o,style:i,"aria-invalid":c?"true":void 0,"aria-describedby":c&&v?v:void 0,className:(0,s.cn)("w-full p-2 ring-1 bg-zinc-50 hover:bg-zinc-100 focus-visible:ring-[var(--color-secondary-600)] transition-all ease-in-out duration-300 outline-none disabled:text-black/20 cursor-pointer disabled:pointer-events-none px-4 pr-12 text-sm font-normal font-secondary appearance-none","text-[var(--color-secondary-800)] ring-[var(--color-secondary-200)] disabled:bg-[var(--color-secondary-200)] disabled:ring-[var(--color-secondary-300)]",c?"ring-[var(--color-primary-600)]":"ring-[var(--color-secondary-200)]",p&&" ring-[var(--color-secondary-700)] text-[var(--color-secondary-200)] disabled:bg-[var(--color-secondary-800)] disabled:ring-0 disabled:text-[var(--color-secondary-600)]",n),...h,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:t}),r.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none","aria-hidden":"true",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-[var(--color-secondary-600)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u&&(0,a.jsx)("div",{id:v,role:"alert",style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:u})]})}},63911:(e,r,t)=>{t.d(r,{A:()=>w});var a=t(54568),s=t(38084),n=t(75188),l=t(91942),o=t(59470),i=t(93121),d=t(16954),c=t(46590),u=t(26177);function p(){let e=(0,c._)(["\n  mutation AddAddress($input: AddressInput!) {\n    accountAddressCreate(input: $input) {\n      user { id }\n      address {\n        id\n        firstName\n        lastName\n        streetAddress1\n        city\n        postalCode\n        country { code country }\n        phone\n      }\n      errors { field message code }\n    }\n  }\n"]);return p=function(){return e},e}let m=(0,u.J1)(p());function h(){let e=(0,c._)(["\n  mutation UpdateAddress($id: ID!, $input: AddressInput!) {\n    accountAddressUpdate(id: $id, input: $input) {\n      address {\n        id\n        firstName\n        lastName\n        streetAddress1\n        city\n        postalCode\n        country { code country }\n        phone\n      }\n      errors { field message code }\n    }\n  }\n"]);return h=function(){return e},e}let v=(0,u.J1)(h());var y=t(47294),x=t(81918),f=t(2244),g=t(21447),b=t(7620),N=t(15904),j=t(53706),C=t(48758),A=t(59270);let w=e=>{let{isModalOpen:r,onClose:t,formData:c,setFormData:u,editingId:p,getMethods:h,onAddressAdded:w}=e,{data:k,error:L,refetch:E}=(0,f.IT)(x.D,{fetchPolicy:"cache-and-network"}),[S,{loading:_}]=(0,g.n)(m,{refetchQueries:[{query:x.D}]}),[M,{loading:P}]=(0,g.n)(v,{refetchQueries:[{query:x.D}]}),[I,{loading:D}]=(0,g.n)(y.Y),q=null==k?void 0:k.me,[F,z]=(0,b.useState)(null),[B,Z]=(0,b.useState)(null),[W,$]=(0,b.useState)({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""}),[U,O]=(0,b.useState)({billing:!1,shipping:!1}),[R,T]=(0,b.useState)(!1),G=(0,b.useMemo)(()=>C.A.getAllCountries().map(e=>({value:e.isoCode,label:e.name})),[]),H=(0,b.useMemo)(()=>c.country?A.Ay.getStatesOfCountry(c.country).map(e=>({value:e.isoCode,label:e.name})):[],[c.country]);(0,b.useEffect)(()=>{$({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""}),Z(null),O({billing:!!((null==c?void 0:c.id)&&(null==h?void 0:h.defaultBillingId)===(null==c?void 0:c.id)),shipping:!!((null==c?void 0:c.id)&&(null==h?void 0:h.defaultShippingId)===(null==c?void 0:c.id))})},[r,null==c?void 0:c.id,null==h?void 0:h.defaultBillingId,null==h?void 0:h.defaultShippingId]);let J=async e=>{if(e.preventDefault(),Z(null),(()=>{var e,r,t,a,s,n;$({firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""});let l={firstName:"",lastName:"",phone:"",country:"",countryArea:"",city:"",streetAddress1:"",postalCode:""},o=!1;return c.firstName.trim()||(l.firstName="First name is required.",o=!0),c.lastName.trim()||(l.lastName="Last name is required.",o=!0),(null==(e=c.phone)?void 0:e.trim())||(l.phone="Phone Number is required.",o=!0),(null==(r=c.country)?void 0:r.trim())||(l.country="Country is required.",o=!0),(null==(t=c.countryArea)?void 0:t.trim())||(l.countryArea="State is required.",o=!0),(null==(a=c.city)?void 0:a.trim())||(l.city="City is required.",o=!0),(null==(s=c.streetAddress1)?void 0:s.trim())||(l.streetAddress1="Street address is required.",o=!0),(null==(n=c.postalCode)?void 0:n.trim())||(l.postalCode="Postal code is required.",o=!0),$(l),!o})()){T(!0);try{var r,a,s;let e=F;if(p){let{data:t}=await M({variables:{id:p,input:{firstName:c.firstName,lastName:c.lastName,phone:c.phone||void 0,companyName:c.companyName||void 0,streetAddress1:c.streetAddress1,streetAddress2:c.streetAddress2||void 0,city:c.city,postalCode:c.postalCode,country:c.country,countryArea:c.countryArea||void 0}}}),a=(null==t?void 0:t.accountAddressUpdate.errors)||[];if(a.length){Z((null==(r=a[0])?void 0:r.message)||"Unable to update address."),T(!1);return}e=p}else{let{data:r}=await S({variables:{input:{firstName:c.firstName,lastName:c.lastName,phone:c.phone||void 0,companyName:c.companyName||void 0,streetAddress1:c.streetAddress1,streetAddress2:c.streetAddress2||void 0,city:c.city,postalCode:c.postalCode,country:c.country,countryArea:c.countryArea||void 0}}}),t=(null==r?void 0:r.accountAddressCreate.errors)||[];if(t.length){Z((null==(s=t[0])?void 0:s.message)||"Unable to add address."),T(!1);return}if(!(e=(null==r||null==(a=r.accountAddressCreate.address)?void 0:a.id)||null)){Z("Address was not created successfully."),T(!1);return}}let n=[];U.billing&&e&&n.push(I({variables:{id:e,type:"BILLING"}})),U.shipping&&e&&n.push(I({variables:{id:e,type:"SHIPPING"}})),n.length>0&&await Promise.all(n),await E(),w&&await w(),t()}catch(e){console.error("Address submission error:",e),Z("Something went wrong. Please try again.")}finally{T(!1)}}};return(0,b.useEffect)(()=>{if((null==q?void 0:q.addresses)&&(null==c?void 0:c.id)){let e=q.addresses.find(e=>e.id===c.id);e&&z(e.id)}},[q,null==c?void 0:c.id]),(0,a.jsx)(i.A,{isModalOpen:r,onClose:t,heading:"Add New Address",children:(0,a.jsxs)("form",{onSubmit:J,className:"mt-10 space-y-10",children:[(0,a.jsxs)("div",{className:"space-y-5 w-full font-secondary font-normal text-[var(--color-secondary-600)] text-base",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{label:"First Name",name:"firstName",placeholder:"Enter First Name",value:c.firstName,onChange:e=>{let r=e.target.value.replace(/[^A-Za-z ]/g,"");u(e=>({...e,firstName:r}))},hasError:!!W.firstName,errorMessage:W.firstName})}),(0,a.jsx)(l.A,{label:"Last Name",name:"lastName",placeholder:"Enter Last Name",value:c.lastName,onChange:e=>{let r=e.target.value.replace(/[^A-Za-z ]/g,"");u(e=>({...e,lastName:r}))},hasError:!!W.lastName,errorMessage:W.lastName}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-[var(--color-secondary-800)] pb-2 uppercase",children:"Phone Number"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.LR,{name:"phoneNumber",inputProps:{id:"phoneNumber","aria-invalid":W.phone?"true":void 0,"aria-describedby":W.phone?"phoneNumber-error":void 0},defaultCountry:"us",value:c.phone,className:(0,j.cn)("text-sm font-normal font-secondary text-[var(--color-secondary-800)] flex h-12 w-full !bg-white [&>div>button>div]:flex [&>div>button>div]:gap-3 [&>div>button]:!h-full [&>div>button>div>img]:!w-9 [&>div>button>div>img]:!pl-4 [&>div>button]:!w-[95px] [&>div>button]:border [&>div>button]:cursor-pointer [&>input]:border [&>div>button]:mr-1.5 [&>div>button]:border-r-dot-black-200 [&>div>button]:!bg-white [&>div]:!h-full [&>input]:!h-full [&>input]:w-full [&>input]:!bg-white [&>input]:px-4 [&>input]:py-3 [&>input]:outline-none",W.phone?"[&>input]:border-[var(--color-primary-600)] [&>div>button]:border-[var(--color-primary-600)]":"[&>input]:border-[var(--color-secondary-200)] [&>div>button]:border-[var(--color-secondary-200)]"),onChange:e=>u(r=>({...r,phone:e}))}),(0,a.jsx)("div",{className:"size-4 text-[var(--color-primary-600)] absolute left-14 rotate-[270deg] top-1/2 -translate-y-1/2 pointer-events-none","aria-hidden":"true",children:d.m})]}),W.phone&&(0,a.jsx)("div",{id:"phoneNumber-error",role:"alert",style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:W.phone})]}),(0,a.jsx)(o.A,{label:"Country",name:"country",placeholder:"Select Country",value:c.country,options:G,onChange:e=>{u(r=>({...r,country:e.target.value,countryArea:"",city:""}))},hasError:!!W.country,errorMessage:W.country}),(0,a.jsx)(o.A,{label:"State",name:"countryArea",placeholder:"Select State",value:c.countryArea,options:H,onChange:e=>{u(r=>({...r,countryArea:e.target.value,city:""}))},hasError:!!W.countryArea,errorMessage:W.countryArea,disabled:!c.country}),(0,a.jsx)(l.A,{label:"City",name:"city",placeholder:"Enter City",value:c.city,onChange:e=>u(r=>({...r,city:e.target.value})),hasError:!!W.city,errorMessage:W.city,parentClassName:"md:col-span-2"}),(0,a.jsx)(l.A,{label:"Street Address",name:"streetAddress1",placeholder:"Enter your Street Address",value:c.streetAddress1,onChange:e=>u(r=>({...r,streetAddress1:e.target.value})),parentClassName:"md:col-span-2",hasError:!!W.streetAddress1,errorMessage:W.streetAddress1}),(0,a.jsx)(l.A,{label:"ZIP / POSTAL CODE",name:"postalCode",placeholder:"Enter ZIP / Postal Code",parentClassName:"md:col-span-2",value:c.postalCode,onChange:e=>u(r=>({...r,postalCode:e.target.value})),hasError:!!W.postalCode,errorMessage:W.postalCode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[(0,a.jsx)("input",{id:"defaultBilling",type:"checkbox",checked:U.billing,onChange:e=>O(r=>({...r,billing:e.target.checked})),className:"accent-[var(--color-primary-600)] size-4 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:"defaultBilling",className:"cursor-pointer",children:"Default billing address"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[(0,a.jsx)("input",{id:"defaultShipping",type:"checkbox",checked:U.shipping,onChange:e=>O(r=>({...r,shipping:e.target.checked})),className:"accent-[var(--color-primary-600)] size-4 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:"defaultShipping",className:"cursor-pointer",children:"Default shipping address"})]})]}),(0,a.jsxs)("div",{className:"flex-col gap-2",children:[L&&(0,a.jsx)(s.F,{message:"Failed to load addresses."}),B&&(0,a.jsx)(s.F,{message:B})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(n.A,{type:"submit",disabled:R||_||P||D,variant:"primary",className:"w-full text-sm md:text-base py-2.5 md:py-3 disabled:opacity-50 transition-opacity",content:R?"Saving...":"Save"}),(0,a.jsx)(n.A,{variant:"secondary",className:"w-full text-sm md:text-base py-2.5 md:py-3",content:"Cancel",onClick:()=>{t()}})]})]})})}},93121:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(54568),s=t(53706);let n=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1262_29632)",children:[(0,a.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1262_29632",children:(0,a.jsx)("rect",{width:16,height:16,fill:"white"})})})]});var l=t(7620);let o=e=>{let{children:r,isModalOpen:t,onClose:o,className:i,removeCrossIcon:d,removeBgClose:c=!1,heading:u}=e,p=(0,l.useRef)(null),m=(0,l.useRef)(null),h=(0,l.useId)(),v=(0,l.useCallback)(e=>{"Escape"!==e.key||c||o()},[o,c]),y=(0,l.useCallback)(e=>{if("Tab"!==e.key||!p.current)return;let r=p.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=r[0],a=r[r.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),null==a||a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),null==t||t.focus())},[]);return(0,l.useEffect)(()=>(t?(m.current=document.activeElement,document.body.style.overflow="hidden",document.addEventListener("keydown",v),document.addEventListener("keydown",y),requestAnimationFrame(()=>{var e,r;let t=null==(e=p.current)?void 0:e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&t.length>0?t[0].focus():null==(r=p.current)||r.focus()})):(document.body.style.overflow="auto",document.removeEventListener("keydown",v),document.removeEventListener("keydown",y),m.current&&m.current.focus()),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keydown",y)}),[t,v,y]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,s.cn)("",t?"fixed left-0 top-0 h-full w-full z-[100]":""),children:[t&&(0,a.jsx)("div",{onClick:()=>{c||o()},"aria-hidden":"true",className:"bg-black/60 w-full h-full absolute top-0 z-[110]"}),(0,a.jsxs)("div",{ref:p,role:"dialog","aria-modal":"true","aria-labelledby":u?h:void 0,tabIndex:-1,className:(0,s.cn)("fixed bottom-0 overflow-y-auto lg:inset-0 h-[calc(100dvh-8rem)] m-auto w-full lg:h-fit z-[120] bg-white lg:max-w-5xl px-4 py-6 md:px-6 lg:p-10 transition-all duration-[400ms] ease-in-out",t?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none",i),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[u&&(0,a.jsx)("h2",{id:h,className:"font-semibold text-[var(--color-secondary-800)] font-secondary text-xl",children:u}),!d&&(0,a.jsx)("button",{onClick:o,"aria-label":"Close modal",className:"text-black absolute top-5 right-5 [&>svg]:size-4 size-6 p-1 rounded-full bg-[var(--color-secondary-200)] hover:bg-[var(--color-secondary-400)]/20 cursor-pointer",children:n})]}),r]})]})})}}}]);