"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3417],{6678:(e,l,t)=>{t.d(l,{V:()=>s});var a=t(7620);let s=()=>{let e=(0,a.useRef)(null),l=(0,a.useCallback)(async()=>{if(!e.current)return console.warn("reCAPTCHA ref not available"),null;try{return await e.current.executeAsync()}catch(e){return console.error("reCAPTCHA execution failed:",e),null}},[]),t=(0,a.useCallback)(()=>{e.current&&e.current.reset()},[]);return{recaptchaRef:e,getRecaptchaToken:l,resetRecaptcha:t}}},13417:(e,l,t)=>{t.r(l),t.d(l,{default:()=>w});var a=t(54568),s=t(94275),r=t.n(s),n=t(78604),i=t(38084),o=t(93121),c=t(28022),d=t(2596),u=t(28189),m=t(46590),h=t(26177);function p(){let e=(0,m._)(['\n  query Contact($first: Int = 1) {\n    pages(first: $first, filter: { slugs: "item-inquiry" }) {\n      edges {\n        node {\n          id\n          title\n          content\n          metadata {\n            key\n            value\n          }\n        }\n      }\n    }\n  }\n']);return p=function(){return e},e}t(30514),t(24338);let x=(0,h.J1)(p());var f=t(6678),g=t(2244),v=t(62942),y=t(7620),b=t(70498),j=t(24338);let w=e=>{var l,t;let{isModalOpen:s,onClose:m}=e,{data:h,loading:p,error:w}=(0,g.IT)(x,{variables:{first:1}}),[k,C]=(0,y.useState)({}),[N,E]=(0,y.useState)({}),[_,A]=(0,y.useState)(!1),[P,L]=(0,y.useState)(!1),{recaptchaRef:S,resetRecaptcha:T}=(0,f.V)(),M=(0,n.h)(),[q,I]=(0,y.useState)(null),[F,z]=(0,y.useState)(null);(0,v.usePathname)();let R=e=>e.toLowerCase().replace(/[^a-z0-9]/g,""),B=e=>({name:"Enter Your Full Name",email:"Enter Your Email",phone:"Enter Your Phone Number",subject:"Enter Subject",message:"Type your message here..."})[R(e)]||"Enter ".concat(e),D=y.useMemo(()=>{var e,l;if(!(null==h||null==(l=h.pages)||null==(e=l.edges)?void 0:e.length))return null;let t=h.pages.edges[0].node,a=t.metadata.reduce((e,l)=>(e[l.key]=l.value,e),{});return{id:t.id,title:t.title,contactFormEnabled:"true"===a.contact_form,productInquiryFormEnabled:"true"===a.product_inquiry_form,recaptchaEnabled:"true"===a.reCAPTCHA,fields:a.fields?a.fields.split(",").map(e=>e.trim()):[],description:a.description||null,emailTo:a.email_to||null,emailCc:a.email_cc||null,emailBcc:a.email_bcc||null,emailSubject:a.email_subject||null,successMessage:a.success_message||null}},[h]);(0,y.useEffect)(()=>{if(null==D?void 0:D.fields){let e={};D.fields.forEach(l=>{e[l.toLowerCase().replace(/[^a-z0-9]/g,"")]=""}),C(e)}},[D]);let W=e=>{C({...k,[e.target.name]:e.target.value}),N[e.target.name]&&E({...N,[e.target.name]:""})},H=async e=>{e.preventDefault(),z(null),A(!1),E({});let l={},t=!1;if(null==D||D.fields.filter(e=>e.endsWith("*")).forEach(e=>{let a=R(e),s=k[a];if(s&&s.trim())"email"!==a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(l[a]="Please enter a valid email address.",t=!0);else l[a]="".concat(e," is required."),t=!0}),(null==D?void 0:D.recaptchaEnabled)&&!q&&(l.recaptcha="Please complete the reCAPTCHA verification.",t=!0),t)return void E(l);L(!0);try{let e={productUrl:window.location.href};null==D||D.fields.forEach(l=>{let t=R(l);e[t]=k[t]});let l=[];(null==D?void 0:D.emailTo)&&l.push(...D.emailTo.split(",").map(e=>e.trim()));let t=[];(null==D?void 0:D.emailCc)&&t.push(...D.emailCc.split(",").map(e=>e.trim()));let a=[];(null==D?void 0:D.emailBcc)&&a.push(...D.emailBcc.split(",").map(e=>e.trim()));let s=j.env.NEXT_PUBLIC_API_URL||"";if(!(await fetch("https://smtp.wsm-dev.com/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_name:s,to:l,cc:t.length>0?t:void 0,bcc:a.length>0?a:void 0,subject:(null==D?void 0:D.emailSubject)||"Inquiry Form Submission",message:e})})).ok)throw Error("Failed to send email");m(),A(!0);let r={};null==D||D.fields.forEach(e=>{r[R(e)]=""}),C(r),(null==D?void 0:D.recaptchaEnabled)&&(I(null),T()),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.error("Contact form submission error:",e),z("Failed to send your message. Please try again later."),(null==D?void 0:D.recaptchaEnabled)&&(I(null),T())}finally{L(!1)}};return p?(0,a.jsx)("main",{className:"h-full w-full",children:(0,a.jsx)("div",{className:"container mx-auto max-w-[1276px] py-24 text-center",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:u.N})})}):w||!D?(0,a.jsx)("main",{className:"h-full w-full",children:(0,a.jsx)("div",{className:"container mx-auto max-w-[1276px] py-24",children:(0,a.jsx)("div",{className:"text-center text-[var(--color-secondary-800)]",children:(0,a.jsx)("p",{children:"Unable to load contact page. Please try again later."})})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.A,{isModalOpen:s,onClose:m,children:[(0,a.jsxs)("div",{className:"space-y-1 pb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold ",children:"Product Inquiry"}),(0,a.jsx)("p",{className:"text-base font-normal",children:D.description})]}),(0,a.jsxs)("form",{onSubmit:H,className:"flex flex-col items-start gap-5 self-stretch w-full",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 w-full gap-5",children:D.fields.map(e=>{let l=R(e);return"message"===l?null:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{className:"block uppercase text-sm font-medium text-[var(--color-secondary-800)] leading-5 tracking-[-0.035px] mb-1.5",children:e}),(0,a.jsx)("input",{type:"email"===l?"email":"text",name:l,placeholder:B(e),value:k[l]||"",onChange:W,required:!!e.endsWith("*"),className:"w-full py-3 px-4 text-sm leading-5 tracking-[-0.035px] text-[var(--color-secondary-800)] border outline-none bg-white disabled:bg-[var(--color-secondary-200)] disabled:pointer-events-none ".concat(N[l]?"border-[var(--color-primary-600)]":"border-[var(--color-secondary-300)] focus:border-[var(--color-secondary-600)]")}),N[l]&&(0,a.jsx)("div",{style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:N[l]})]},l)})}),D.fields.some(e=>"message"===R(e))&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{className:"block uppercase text-sm font-medium text-[var(--color-secondary-800)] leading-5 tracking-[-0.035px] mb-1.5",children:"Message"}),(0,a.jsx)("textarea",{name:"message",placeholder:B("message"),value:k.message||"",onChange:W,required:D.fields.some(e=>"message"===e.toLowerCase().replace(/[^a-z0-9]/g,"")&&e.endsWith("*")),rows:9,className:"w-full min-h-[50px] py-3 px-4 text-sm leading-5 tracking-[-0.035px] text-[var(--color-secondary-800)] border outline-none bg-white disabled:bg-[var(--color-secondary-200)] disabled:pointer-events-none ".concat(N.message?"border-[var(--color-primary-600)]":"border-[var(--color-secondary-300)] focus:border-[var(--color-secondary-600)]")}),N.message&&(0,a.jsx)("div",{style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:N.message})]}),D.recaptchaEnabled&&(null==(l=M.getGoogleRecaptchaConfig())?void 0:l.site_key)&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{className:"block uppercase text-sm font-medium text-[var(--color-secondary-800)] leading-5 tracking-[-0.035px] mb-3",children:"reCAPTCHA"}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)(b.A,{ref:S,sitekey:(null==(t=M.getGoogleRecaptchaConfig())?void 0:t.site_key)||"",theme:"light",size:"normal",onChange:e=>{I(e),e&&N.recaptcha&&E(e=>({...e,recaptcha:""}))},onExpired:()=>{I(null),T()},onError:()=>{I(null),T()}}),N.recaptcha&&(0,a.jsx)("div",{style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:N.recaptcha})]})]}),F&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i.F,{message:F})}),(0,a.jsx)("div",{className:"flex items-end justify-end w-full",children:(0,a.jsx)(c.A,{type:"submit",disabled:P,content:P?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"animate-spin",children:u.N}),(0,a.jsx)("span",{children:"Sending..."})]}):"SUBMIT",className:"py-3 px-8"})})]})]}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{id:"2fd301c8e513306a",children:"@keyframes slideInRight{from{transform:translatex(100%);opacity:0}to{transform:translatex(0);opacity:1}}.animate-slide-in{animation:slideInRight.3s ease-out}"}),(0,a.jsx)("div",{className:"jsx-2fd301c8e513306a fixed top-4 right-4 z-50 animate-slide-in",children:(0,a.jsx)(d.A,{message:"Inquiry message sent Successfully!",subParagraph:(null==D?void 0:D.successMessage)?D.successMessage.replace(/<[^>]*>/g,""):"Thank you for contacting us. We will get back to you soon.",type:"success",duration:5e3,onClose:()=>A(!1)})})]})]})}},38084:(e,l,t)=>{t.d(l,{F:()=>r});var a=t(54568);let s=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1487_106428)",children:[(0,a.jsx)("path",{opacity:"0.2",d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",fill:"#DC2626"}),(0,a.jsx)("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"#DC2626",strokeWidth:"1.25",strokeMiterlimit:10}),(0,a.jsx)("path",{d:"M10 10.625V6.25",stroke:"#DC2626",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 14.375C10.5178 14.375 10.9375 13.9553 10.9375 13.4375C10.9375 12.9197 10.5178 12.5 10 12.5C9.48223 12.5 9.0625 12.9197 9.0625 13.4375C9.0625 13.9553 9.48223 14.375 10 14.375Z",fill:"#DC2626"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1487_106428",children:(0,a.jsx)("rect",{width:20,height:20,fill:"white"})})})]});t(7620);let r=e=>{let{message:l}=e;return(0,a.jsxs)("div",{style:{color:"var(--color-secondary-800)",backgroundColor:"var(--color-primary-50)"},className:"flex items-center text-base gap-2 ring-1 ring-[var(--color-primary-50)] px-3 py-2",role:"alert",children:[s,(0,a.jsx)("p",{className:"text-base leading-6 tracking[-0.04px]",children:l})]})}},93121:(e,l,t)=>{t.d(l,{A:()=>i});var a=t(54568),s=t(53706);let r=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1262_29632)",children:[(0,a.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1262_29632",children:(0,a.jsx)("rect",{width:16,height:16,fill:"white"})})})]});var n=t(7620);let i=e=>{let{children:l,isModalOpen:t,onClose:i,className:o,removeCrossIcon:c,removeBgClose:d=!1,heading:u}=e,m=(0,n.useRef)(null),h=(0,n.useRef)(null),p=(0,n.useId)(),x=(0,n.useCallback)(e=>{"Escape"!==e.key||d||i()},[i,d]),f=(0,n.useCallback)(e=>{if("Tab"!==e.key||!m.current)return;let l=m.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=l[0],a=l[l.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),null==a||a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),null==t||t.focus())},[]);return(0,n.useEffect)(()=>(t?(h.current=document.activeElement,document.body.style.overflow="hidden",document.addEventListener("keydown",x),document.addEventListener("keydown",f),requestAnimationFrame(()=>{var e,l;let t=null==(e=m.current)?void 0:e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&t.length>0?t[0].focus():null==(l=m.current)||l.focus()})):(document.body.style.overflow="auto",document.removeEventListener("keydown",x),document.removeEventListener("keydown",f),h.current&&h.current.focus()),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keydown",f)}),[t,x,f]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,s.cn)("",t?"fixed left-0 top-0 h-full w-full z-[100]":""),children:[t&&(0,a.jsx)("div",{onClick:()=>{d||i()},"aria-hidden":"true",className:"bg-black/60 w-full h-full absolute top-0 z-[110]"}),(0,a.jsxs)("div",{ref:m,role:"dialog","aria-modal":"true","aria-labelledby":u?p:void 0,tabIndex:-1,className:(0,s.cn)("fixed bottom-0 overflow-y-auto lg:inset-0 h-[calc(100dvh-8rem)] m-auto w-full lg:h-fit z-[120] bg-white lg:max-w-5xl px-4 py-6 md:px-6 lg:p-10 transition-all duration-[400ms] ease-in-out",t?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none",o),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[u&&(0,a.jsx)("h2",{id:p,className:"font-semibold text-[var(--color-secondary-800)] font-secondary text-xl",children:u}),!c&&(0,a.jsx)("button",{onClick:i,"aria-label":"Close modal",className:"text-black absolute top-5 right-5 [&>svg]:size-4 size-6 p-1 rounded-full bg-[var(--color-secondary-200)] hover:bg-[var(--color-secondary-400)]/20 cursor-pointer",children:r})]}),l]})]})})}}}]);