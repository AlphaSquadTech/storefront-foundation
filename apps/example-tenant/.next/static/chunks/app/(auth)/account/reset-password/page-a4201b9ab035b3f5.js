(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5208],{28022:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(54568),a=r(53706);r(7620);let o=e=>{let{content:s,onClick:r,className:o="",type:l="button",disabled:n=!1}=e;return(0,t.jsx)("button",{onClick:r,type:l,disabled:n,className:(0,a.cn)("px-4 py-2 font-secondary ring-1 ring-[var(--color-primary)] hover:ring-[var(--color-primary)] hover:text-[var(--color-primary)] bg-[var(--color-primary)] hover:bg-white transition-all ease-in-out duration-300 text-white disabled:ring-zinc-400 disabled:pointer-events-none disabled:text-[var(--color-secondary-400)] disabled:bg-[var(--color-secondary-300)] font-semibold cursor-pointer uppercase text-base -tracking-[0.04px] ",o),children:s})}},28189:(e,s,r)=>{"use strict";r.d(s,{N:()=>a});var t=r(54568);let a=(0,t.jsxs)("svg",{className:"animate-spin size-6 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},38084:(e,s,r)=>{"use strict";r.d(s,{F:()=>o});var t=r(54568);let a=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_1487_106428)",children:[(0,t.jsx)("path",{opacity:"0.2",d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",fill:"#DC2626"}),(0,t.jsx)("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"#DC2626",strokeWidth:"1.25",strokeMiterlimit:10}),(0,t.jsx)("path",{d:"M10 10.625V6.25",stroke:"#DC2626",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M10 14.375C10.5178 14.375 10.9375 13.9553 10.9375 13.4375C10.9375 12.9197 10.5178 12.5 10 12.5C9.48223 12.5 9.0625 12.9197 9.0625 13.4375C9.0625 13.9553 9.48223 14.375 10 14.375Z",fill:"#DC2626"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1487_106428",children:(0,t.jsx)("rect",{width:20,height:20,fill:"white"})})})]});r(7620);let o=e=>{let{message:s}=e;return(0,t.jsxs)("div",{style:{color:"var(--color-secondary-800)",backgroundColor:"var(--color-primary-50)"},className:"flex items-center text-base gap-2 ring-1 ring-[var(--color-primary-50)] px-3 py-2",role:"alert",children:[a,(0,t.jsx)("p",{className:"text-base leading-6 tracking[-0.04px]",children:s})]})}},53792:(e,s,r)=>{"use strict";r.d(s,{P:()=>n});var t=r(54568);let a=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",children:[(0,t.jsx)("g",{clipPath:"url(#clip0_1706_74525)",children:(0,t.jsx)("path",{d:"M1.875 6.75L4.5 9.375L10.5 3.375",stroke:"#15803D",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1706_74525",children:(0,t.jsx)("rect",{width:12,height:12,fill:"white"})})})]}),o=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_1706_74530)",children:[(0,t.jsx)("path",{d:"M9.375 2.625L2.625 9.375",stroke:"#B91C1C",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M9.375 9.375L2.625 2.625",stroke:"#B91C1C",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1706_74530",children:(0,t.jsx)("rect",{width:12,height:12,fill:"white"})})})]}),l=(0,t.jsx)("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("circle",{cx:"6.00014",cy:"5.99916",r:"2.57143",fill:"currentColor"})}),n=e=>{let{value:s}=e,r=[{label:"At least 8 characters long",test:e=>e.length>=8},{label:"At least 1 uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e)},{label:"At least 1 lowercase letter (a-z)",test:e=>/[a-z]/.test(e)},{label:"At least 1 number (0-9)",test:e=>/\d/.test(e)},{label:"At least 1 special character",test:e=>/[^A-Za-z0-9]/.test(e)}];return(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("ul",{style:{color:"var(--color-secondary-500)"},className:"mt-2 text-sm list-disc list-inside",children:r.map((e,r)=>{let n=e.test(s);return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[s?(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:n?a:o}):(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:l}),(0,t.jsx)("span",{children:e.label})]},r)})})})}},63158:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var t=r(54568),a=r(7620),o=r(62942),l=r(21447),n=r(46590);function i(){let e=(0,n._)(["\n  mutation SetNewPassword($email: String!, $token: String!, $password: String!) {\n    setPassword(email: $email, token: $token, password: $password) {\n      token\n      refreshToken\n      user {\n        id\n        email\n        firstName\n        lastName\n      }\n      errors {\n        field\n        message\n        code\n      }\n    }\n  }\n"]);return i=function(){return e},e}let c=(0,r(26177).J1)(i());var d=r(64026),p=r(91942),h=r(28022),x=r(28189),u=r(53792),m=r(38084);function w(){let e=(0,o.useSearchParams)(),s=e.get("email")||"",r=e.get("token")||"",[n,i]=(0,a.useState)({password:"",confirmPassword:""}),[w,g]=(0,a.useState)(null),[f,v]=(0,a.useState)({password:"",confirmPassword:""}),[j,k]=(0,a.useState)(null),[y,{loading:b}]=(0,l.n)(c),[C]=(0,a.useState)(s),[N]=(0,a.useState)(r),A=(0,o.useRouter)(),{login:P}=(0,d.o)(),L=e=>{i({...n,[e.target.name]:e.target.value})},_=async e=>{e.preventDefault(),g(null),k(null),v({password:"",confirmPassword:""});let s={password:"",confirmPassword:""},r=!1;if(/^.{8,}$/.test(n.password)&&/[A-Z]/.test(n.password)&&/[a-z]/.test(n.password)&&/[0-9]/.test(n.password)&&/[^A-Za-z0-9]/.test(n.password)||(s.password="Password Validation Failed",r=!0),n.password!==n.confirmPassword&&(s.confirmPassword="Passwords do not match.",r=!0),r)return void v(s);try{let{data:e}=await y({variables:{email:C,token:N,password:n.password}}),s=null==e?void 0:e.setPassword,r=(null==s?void 0:s.errors)||[];if(!s||r.length){var t;g((null==(t=r[0])?void 0:t.message)||"Unable to reset password.");return}s.token&&localStorage.setItem("token",s.token),s.refreshToken&&localStorage.setItem("refreshToken",s.refreshToken);try{await fetch("/api/auth/set",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s.token,refreshToken:s.refreshToken})})}catch(e){}if(s.user){let{id:e,email:r,firstName:t,lastName:a}=s.user,o=[t,a].filter(Boolean).join(" ")||r;P({id:e,email:r,name:o})}k("Password has been reset successfully. Redirecting..."),setTimeout(()=>{s.token?A.push("/account"):A.push("/account/login")},1e3)}catch(e){console.error("Set password error",e),g("Unable to reset password. Please try again.")}};return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen w-full px-4 md:px-6 py-12 md:py-16 lg:py-24px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"flex w-full max-w-[756px] flex-col justify-center items-start gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-start gap-1 md:gap-2 self-stretch",children:[(0,t.jsx)("p",{style:{color:"var(--color-secondary-800)"},className:"text-lg md:text-xl font-semibold tracking-[-0.05px] uppercase",children:"Reset Password"}),(0,t.jsx)("p",{className:"text-sm leading-5 tracking-[-0.035px]",children:"Please choose a new password for your account."})]}),(0,t.jsxs)("form",{onSubmit:_,className:"w-full flex flex-col gap-6",children:[j&&(0,t.jsx)("div",{style:{color:"var(--color-secondary-800)"},className:"mb-4 text-sm",role:"status",children:j}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)(p.A,{label:"NEW PASSWORD",type:"password",name:"password",placeholder:"Aero@1234",value:n.password,hasError:!!f.password,onChange:L,className:"mt-1.5 py-3 px-4 text-sm leading-5 tracking-[-0.035px]"}),(0,t.jsx)(u.P,{value:n.password})]}),(0,t.jsx)("div",{className:"w-full relative",children:(0,t.jsx)(p.A,{label:"RE-ENTER NEW PASSWORD",type:"password",name:"confirmPassword",placeholder:"*******",value:n.confirmPassword,onChange:L,className:"mt-1.5 py-3 px-4 text-sm leading-5 tracking-[-0.035px]",hasError:!!f.confirmPassword,errorMessage:f.confirmPassword})}),w&&(0,t.jsx)(m.F,{message:w}),(0,t.jsx)(h.A,{type:"submit",disabled:b,content:b?(0,t.jsx)("span",{className:"flex items-center justify-center w-full",children:x.N}):"Reset Password",className:"w-full text-sm lg:text-base font-semibold tracking-[-0.04px] py-2 md:py-3 px-4 "})]})]})})}function g(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:"Loading..."}),children:(0,t.jsx)(w,{})})}},72439:(e,s,r)=>{Promise.resolve().then(r.bind(r,63158))},91942:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(54568),a=r(53706);let o=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_1709_78263)",children:[(0,t.jsx)("path",{d:"M3 2.5L13 13.5",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M9.68212 9.84844C9.19147 10.2945 8.54372 10.5274 7.88136 10.4959C7.21901 10.4643 6.5963 10.171 6.15024 9.68031C5.70418 9.18966 5.4713 8.54191 5.50283 7.87956C5.53436 7.2172 5.82772 6.5945 6.31837 6.14844",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M8.4707 5.54297C9.0022 5.64475 9.48633 5.91625 9.85035 6.31667C10.2144 6.71709 10.4386 7.22483 10.4895 7.76359",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M13.0377 10.5688C14.4002 9.34876 14.9995 8.00001 14.9995 8.00001C14.9995 8.00001 12.9995 3.50001 7.99953 3.50001C7.56654 3.49942 7.13425 3.53453 6.70703 3.60501",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M4.625 4.28906C2.07687 5.57906 1 8.00156 1 8.00156C1 8.00156 3 12.5016 8 12.5016C9.17157 12.5108 10.3285 12.2408 11.375 11.7141",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1709_78263",children:(0,t.jsx)("rect",{width:16,height:16,fill:"white"})})})]}),l=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_2049_9439)",children:[(0,t.jsx)("path",{d:"M8 3.5C3 3.5 1 8 1 8C1 8 3 12.5 8 12.5C13 12.5 15 8 15 8C15 8 13 3.5 8 3.5Z",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M8 10.5C9.38071 10.5 10.5 9.38071 10.5 8C10.5 6.61929 9.38071 5.5 8 5.5C6.61929 5.5 5.5 6.61929 5.5 8C5.5 9.38071 6.61929 10.5 8 10.5Z",stroke:"#A3A3A3",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_2049_9439",children:(0,t.jsx)("rect",{width:16,height:16,fill:"white"})})})]});var n=r(7620);let i=e=>{let{label:s,name:r,type:i,placeholder:c,value:d,onChange:p,required:h,disabled:x,readOnly:u,hasError:m=!1,className:w,parentClassName:g,errorMessage:f,autoComplete:v,darkTheme:j=!1,htmlFor:k,id:y,maxLength:b,onFocus:C,onBlur:N}=e,[A,P]=n.useState(!1),L=y||k||r,_=L?"".concat(L,"-error"):void 0;return(0,t.jsxs)("div",{className:g,children:[s&&(0,t.jsx)("label",{htmlFor:L,className:(0,a.cn)("block text-sm font-medium pb-2 uppercase leading-5 tracking-[-0.035px]",j?"text-[var(--color-secondary-200)]":"text-[var(--color-secondary-800)]"),children:s}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:L,type:A?"text":i,name:r,placeholder:c,value:d,onChange:p,onFocus:C,onBlur:N,required:h,disabled:x,readOnly:u,maxLength:b,autoComplete:v,"aria-invalid":m?"true":void 0,"aria-describedby":m&&_?_:void 0,className:(0,a.cn)("w-full p-2 ring-1 focus-visible:ring-[var(--color-secondary-600)] outline-none disabled:pointer-events-none px-4 py-3.5 text-sm font-normal font-secondary","text-[var(--color-secondary-800)] ring-[var(--color-secondary-200)] bg-white  disabled:bg-[var(--color-secondary-200)] disabled:text-[var(--color-secondary-400)] disabled:placeholder:text-[var(--color-secondary-400)] disabled:ring-[var(--color-secondary-300)]",m?"ring-[var(--color-primary-600)]":"ring-[var(--color-secondary-200)]",j&&"bg-[var(--color-secondary-800)] ring-[var(--color-secondary-700)] placeholder:text-[var(--color-secondary-500)] text-[var(--color-secondary-200)] disabled:bg-[var(--color-secondary-800)] disabled:ring-0 disabled:placeholder:text-[var(--color-secondary-600)] disabled:text-[var(--color-secondary-600)]",w)}),"password"===i&&(0,t.jsx)("button",{type:"button",onClick:()=>P(e=>!e),"aria-label":A?"Hide password":"Show password",className:(0,a.cn)("absolute right-4 top-5 transform",x?"pointer-events-none":"cursor-pointer"),children:A?l:o})]}),f&&(0,t.jsx)("div",{id:_,role:"alert",style:{color:"var(--color-primary-600)"},className:"text-sm leading-5 tracking-[-0.035px] mt-1.5",children:f})]})}}},e=>{e.O(0,[8745,4398,7537,5273,2417,587,1902,7358],()=>e(e.s=72439)),_N_E=e.O()}]);