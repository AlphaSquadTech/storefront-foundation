(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9261],{53706:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l,m_:()=>n});var a=t(32987),r=t(60607);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://")||e.endsWith("/no-image-avail-large.png"))return e;let s=e.startsWith("/")?e.slice(1):e;return"".concat("https://wsm-saleor-assets.s3.us-west-2.amazonaws.com","/").concat(s)}},55686:(e,s,t)=>{Promise.resolve().then(t.bind(t,87665))},87665:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(54568),r=t(81918),l=t(2244),n=t(21447),d=t(63911),o=t(75188),c=t(4881),i=t(57763),u=t(59136),m=t(46590);function x(){let e=(0,m._)(["\n  mutation DeleteAddress($id: ID!) {\n    accountAddressDelete(id: $id) {\n      user { id }\n      errors { field message code }\n    }\n  }\n"]);return x=function(){return e},e}let p=(0,t(26177).J1)(x());var f=t(7620);function y(){var e,s,t,m;let{data:x,loading:y,refetch:h}=(0,l.IT)(r.D,{fetchPolicy:"cache-and-network"}),[v]=(0,n.n)(p),g=null==x?void 0:x.me,N=null==g||null==(e=g.defaultShippingAddress)?void 0:e.id,A=null==g||null==(s=g.defaultBillingAddress)?void 0:s.id,[b,j]=(0,f.useState)(!1),[w,S]=(0,f.useState)(null),[D,C]=(0,f.useState)({defaultShippingId:N||null,defaultBillingId:A||null});(0,f.useEffect)(()=>{C({defaultShippingId:N||null,defaultBillingId:A||null})},[N,A]);let[k,_]=(0,f.useState)({firstName:"",lastName:"",phone:"",companyName:"",streetAddress1:"",streetAddress2:"",city:"",postalCode:"",country:"US",countryArea:""}),E=async e=>{try{let{data:t}=await v({variables:{id:e}}),a=(null==t?void 0:t.accountAddressDelete.errors)||[];if(a.length){var s;console.log((null==(s=a[0])?void 0:s.message)||"Unable to delete address.")}else await h()}catch(e){console.log("Unable to delete address. Please try again.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("h2",{className:"text-lg lg:text-xl text-[var(--color-secondary-800)] font-secondary font-semibold",children:"MY ADDRESSES"}),(0,a.jsxs)("div",{className:"uppercase cursor-pointer flex items-center gap-2",onClick:()=>{j(!0),S(null),_({firstName:"",lastName:"",phone:"",companyName:"",streetAddress1:"",streetAddress2:"",city:"",postalCode:"",country:"US",countryArea:""})},children:[(0,a.jsx)("span",{className:"size-5 text-[var(--color-primary-600)]",children:u.c}),(0,a.jsx)(o.A,{variant:"tertiary",content:"Add New Address",className:"p-0 text-sm lg:text-base "})]})]}),(0,a.jsx)("div",{className:"mt-4",children:y?(0,a.jsx)(i.A,{}):y||(null==g||null==(t=g.addresses)?void 0:t.length)!==0?(0,a.jsx)("div",{className:"flex flex-col space-y-4 w-full",children:null==g||null==(m=g.addresses)?void 0:m.map(e=>(0,a.jsxs)("div",{className:" w-full border-b border-[var(--color-secondary-200)] pb-4 flex flex-col md:flex-row gap-4 justify-between md:items-center ",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"absolute top-4 right-4 space-x-2",children:[N===e.id&&(0,a.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 text-xs font-semibold rounded",children:"Default Shipping"}),A===e.id&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded",children:"Default Billing"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-medium text-lg lg:text-xl font-secondary text-[var(--color-secondary-800)]",children:[e.streetAddress1,e.streetAddress2?", ".concat(e.streetAddress2):""," "," ",e.city,e.countryArea?", ".concat(e.countryArea):""," "," ",e.country.country]}),e.phone&&(0,a.jsx)("p",{className:"text-medium text-lg font-secondary text-[var(--color-secondary-500)]",children:e.phone})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 pt-2",children:[N===e.id&&(0,a.jsx)("p",{className:"font-medium text-sm text-[var(--color-secondary-800)] font-secondary bg-[var(--color-secondary-600)]/10 px-2 py-0.5 border border-[var(--color-secondary-600)]/60 h-fit",children:"Default Shipping Address"}),A===e.id&&(0,a.jsx)("p",{className:"font-medium text-sm text-[var(--color-secondary-800)] font-secondary bg-[var(--color-secondary-600)]/10 px-2 py-0.5 border border-[var(--color-secondary-600)]/60 h-fit",children:"Default Billing Address"})]})]}),(0,a.jsxs)("div",{className:"flex ml-auto items-center gap-5 [&>button]:p-0",children:[(0,a.jsx)(o.A,{onClick:()=>{S(e.id),_({id:e.id,firstName:e.firstName,lastName:e.lastName,phone:e.phone||"",companyName:e.companyName||"",streetAddress1:e.streetAddress1,streetAddress2:e.streetAddress2||"",city:e.city,postalCode:e.postalCode,country:e.country.code,countryArea:e.countryArea||""}),j(!0)},className:"text-sm md:text-base py-3 px-4",variant:"tertiary",content:"Edit"}),(0,a.jsx)(o.A,{onClick:()=>E(e.id),className:"text-sm md:text-base py-3 px-4",variant:"tertiarySecondary",content:"Delete"})]})]},e.id))}):(0,a.jsx)(c.A,{text:"No Address yet.",className:"h-[50vh]"})})]}),(0,a.jsx)("div",{className:"relative z-20",children:(0,a.jsx)(d.A,{isModalOpen:b,onClose:()=>j(!1),formData:k,setFormData:_,editingId:w,getMethods:D})})]})}}},e=>{e.O(0,[4159,8745,4398,7537,367,2244,5824,2922,7366,587,1902,7358],()=>e(e.s=55686)),_N_E=e.O()}]);