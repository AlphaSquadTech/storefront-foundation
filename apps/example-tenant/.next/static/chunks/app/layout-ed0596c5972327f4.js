(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{3311:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(54568),a=r(7620),o=r(62942),l=r(43270);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];window.gtag&&window.gtag(...t)},i=(e,t,r)=>{(void 0!==r?r:null)&&(0,l.sendGAEvent)({event:"page_view",page_title:t||document.title,page_location:e})},c=(e,t,r)=>{(void 0!==r?r:null)&&(0,l.sendGAEvent)({event:e,custom_parameter:!0,...t})},d=(e,t)=>{(void 0!==t?t:null)&&(0,l.sendGAEvent)({event:"user_engagement",engagement_time_msec:e})},u=(e,t,r,n)=>{(void 0!==n?n:null)&&(0,l.sendGAEvent)({event:"timing_complete",name:e,value:t,event_category:r||"performance"})};var m=r(78604);function h(e){let{children:t}=e,{isAppActive:r,getGoogleAnalyticsConfig:h}=(0,m.h)(),p=r("google_analytics"),v=h();(e=>{let t=(0,o.usePathname)(),r=(0,a.useRef)(Date.now()),n=(0,a.useRef)(0),s=(0,a.useRef)(null),[c,m]=(0,a.useState)(0);return(0,a.useEffect)(()=>{r.current=Date.now(),m(0),i(window.location.href,void 0,e);let t=()=>{var t,r;let a=Math.round((window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100);a>n.current&&a%25==0&&(n.current=a,t=a,(void 0!==(r=e)?r:null)&&(0,l.sendGAEvent)({event:"scroll",percent_scrolled:t}))},a=()=>{let t=Date.now()-r.current;u("time_on_page",t,"engagement",e),d(t,e)},o=()=>{"hidden"===document.visibilityState?d(Date.now()-r.current,e):r.current=Date.now()};return s.current=setInterval(()=>{m(Date.now()-r.current)},1e3),window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("beforeunload",a),document.addEventListener("visibilitychange",o),()=>{s.current&&clearInterval(s.current);let n=Date.now()-r.current;u("time_on_page",n,"engagement",e),d(n,e),window.removeEventListener("scroll",t),window.removeEventListener("beforeunload",a),document.removeEventListener("visibilitychange",o)}},[t,e])})(p?null==v?void 0:v.measurement_id:null);var x=p?null==v?void 0:v.measurement_id:null;let g=(0,o.usePathname)();(0,a.useEffect)(()=>{let e=document.referrer;if(!e||!e.includes(window.location.hostname)){i(window.location.href,void 0,x);let t=new URLSearchParams(window.location.search),r=t.get("utm_source"),n=t.get("utm_medium"),a=t.get("utm_campaign");(r||n||a)&&c("entrance_with_utm",{utm_source:r,utm_medium:n,utm_campaign:a,page_location:window.location.href},x),c("page_entrance",{entrance_page:g,referrer:e||"direct",is_new_session:!0},x)}},[g,x]);var f=p?null==v?void 0:v.measurement_id:null;let y=(0,o.usePathname)();return(0,a.useEffect)(()=>{let e=()=>{c("page_exit",{exit_page:y,time_on_page:Date.now()-performance.now()},f)},t=()=>{"hidden"===document.visibilityState&&c("page_exit",{exit_page:y,exit_type:"tab_hidden"},f)};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}},[y,f]),(0,a.useEffect)(()=>{if(!p)return;let e=navigator.userAgent,t=(null==(n=navigator.userAgentData)?void 0:n.platform)||navigator.platform,r=navigator.language;var n,a={user_agent:e,platform:t,language:r,screen_resolution:"".concat(screen.width,"x").concat(screen.height),viewport_size:"".concat(window.innerWidth,"x").concat(window.innerHeight),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},o=null==v?void 0:v.measurement_id;let i=void 0!==o?o:null;i&&s("config",i,{user_properties:a});let c=!1,d=null,u=Date.now(),m=()=>{!c&&(c=!0,d&&clearTimeout(d))},h=(e,t)=>{c||((0,l.sendGAEvent)({event:"bounce_detected",time_on_page:e,interaction_occurred:!1,trigger:t}),window.gtag&&window.gtag("event","bounce_detected",{time_on_page:e,interaction_occurred:!1,trigger:t,custom_parameter_1:"bounce_tracking"}),c=!0)},x=()=>{h(Date.now()-u,"beforeunload")},g=()=>{"hidden"===document.visibilityState&&h(Date.now()-u,"visibility_change")},f=["click","scroll","keydown","mousemove","touchstart"];return f.forEach(e=>{document.addEventListener(e,m,{once:!0,passive:!0})}),window.addEventListener("beforeunload",x),document.addEventListener("visibilitychange",g),d=setTimeout(()=>{h(Date.now()-u,"".concat(30,"_second_timeout"))},3e4),()=>{d&&clearTimeout(d),f.forEach(e=>{document.removeEventListener(e,m)}),window.removeEventListener("beforeunload",x),document.removeEventListener("visibilitychange",g)}},[p]),(0,n.jsx)(n.Fragment,{children:t})}},4781:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(7620),a=r(78604);function o(){let{getGoogleTagManagerConfig:e,getGoogleAdSenseConfig:t}=(0,a.h)();return(0,n.useEffect)(()=>{let r=e(),n=t(),a=null==r?void 0:r.container_id,o=null==n?void 0:n.publisher_id;if(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});let e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtm.js?id=".concat(a),document.head.appendChild(e)}if(o){let e=document.createElement("script");e.async=!0,e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=".concat(o),e.crossOrigin="anonymous",document.head.appendChild(e)}},[e,t]),null}},7155:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(54568);let a=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_944_758)",children:(0,n.jsx)("path",{d:"M13 6L8 11L3 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_944_758",children:(0,n.jsx)("rect",{width:16,height:16,fill:"white"})})})]})},21331:(e,t,r)=>{Promise.resolve().then(r.bind(r,4781)),Promise.resolve().then(r.bind(r,48454)),Promise.resolve().then(r.bind(r,24987)),Promise.resolve().then(r.bind(r,73827)),Promise.resolve().then(r.bind(r,55276)),Promise.resolve().then(r.bind(r,24939)),Promise.resolve().then(r.bind(r,3311)),Promise.resolve().then(r.bind(r,58643)),Promise.resolve().then(r.bind(r,27177)),Promise.resolve().then(r.bind(r,78604)),Promise.resolve().then(r.bind(r,64059)),Promise.resolve().then(r.bind(r,54450)),Promise.resolve().then(r.bind(r,89431)),Promise.resolve().then(r.t.bind(r,27261,23)),Promise.resolve().then(r.t.bind(r,73970,23)),Promise.resolve().then(r.t.bind(r,38608,23)),Promise.resolve().then(r.t.bind(r,76598,23)),Promise.resolve().then(r.t.bind(r,53419,23)),Promise.resolve().then(r.t.bind(r,79114,23)),Promise.resolve().then(r.t.bind(r,13647,23)),Promise.resolve().then(r.t.bind(r,40217,23)),Promise.resolve().then(r.t.bind(r,73139,23))},24939:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(54568),a=r(8055),o=r(65504),l=r(61378),s=r(53578),i=r(7620);let c=new a.R({cache:new o.D,ssrMode:!0});function d(e){let{children:t}=e,[r,a]=(0,i.useState)(c);return(0,i.useEffect)(()=>{a(s.A)},[]),(0,n.jsx)(l.X,{client:r,children:t})}},24987:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(54568),a=r(78604);function o(){let{getGoogleTagManagerConfig:e}=(0,a.h)(),t=e();return(null==t?void 0:t.container_id)?(0,n.jsx)("noscript",{children:(0,n.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(t.container_id),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}):null}},26684:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var n=r(54568);let a=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_476_23728)",children:[(0,n.jsx)("path",{d:"M8.75 15C12.2018 15 15 12.2018 15 8.75C15 5.29822 12.2018 2.5 8.75 2.5C5.29822 2.5 2.5 5.29822 2.5 8.75C2.5 12.2018 5.29822 15 8.75 15Z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M13.1696 13.1696L17.5 17.5",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_476_23728",children:(0,n.jsx)("rect",{width:20,height:20,fill:"white"})})})]})},27177:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(54568);function a(e){let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})}},32042:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(54568),a=r(53706);r(7620);let o=e=>{let{content:t,type:r,onClick:o,className:l="",disabled:s=!1}=e;return(0,n.jsx)("button",{onClick:o,type:r,disabled:s,className:(0,a.cn)("font-secondary border border-[var(--color-secondary-900)] bg-[var(--color-secondary-900)] disabled:pointer-events-none text-[var(--color-secondary-50)] hover:text-black hover:bg-zinc-300 transition-all ease-in-out duration-300 font-semibold cursor-pointer -tracking-[0.04px] px-4 py-2",l),children:t})}},48454:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(54568),a=r(43270),o=r(78604);function l(){let{getGoogleAnalyticsConfig:e}=(0,o.h)(),t=e();return(null==t?void 0:t.measurement_id)?(0,n.jsx)(a.GoogleAnalytics,{gaId:t.measurement_id}):null}},53578:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(92613),a=r(8055),o=r(2743),l=r(65504),s=r(38439),i=r(5430),c=r(45410),d=r(24338);let u=null;function m(){if(u)return u;let e=function(e){if(!e)return;let t=e.trim(),r=t.toLowerCase();return r.endsWith("/graphql")||r.endsWith("/graphql/")||(t=t.replace(/\/+$/,"")+"/graphql/"),t}(d.env.NEXT_PUBLIC_API_URL);return e?(u=e,console.log("[Apollo] GraphQL endpoint:",e),e):(console.error("[Apollo] NEXT_PUBLIC_API_URL is not set. GraphQL queries will fail."),"https://api-url-not-configured.invalid/graphql/")}let h=(0,n.$)({uri:()=>m()}),p=(0,s.o)((e,t)=>{let{headers:r}=t,n=localStorage.getItem("token");return{headers:{...r,authorization:n?"JWT ".concat(n):""}}}),v=!1,x=[];async function g(e){let t=localStorage.getItem("refreshToken");if(!t)throw console.log("No refresh token available"),Error("No refresh token");console.log("Attempting token refresh...");try{var r,n;let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation TokenRefresh($refreshToken: String!) { \n          tokenRefresh(refreshToken: $refreshToken) { \n            token \n            refreshToken \n            errors { \n              field\n              message \n              code\n            } \n          } \n        }",variables:{refreshToken:t}})});if(!a.ok)throw console.error("Token refresh HTTP error:",a.status,a.statusText),Error("tokenRefresh failed: ".concat(a.status));let o=await a.json(),l=null==o||null==(r=o.data)?void 0:r.tokenRefresh,s=o.errors||(null==l?void 0:l.errors)||[];if(s.length)throw console.error("Token refresh errors:",s),Error((null==(n=s[0])?void 0:n.message)||"Token refresh failed");if(!(null==l?void 0:l.token))throw console.error("No token in refresh response"),Error("No token in refresh response");return console.log("Token refresh successful"),{token:l.token,refreshToken:l.refreshToken||null}}catch(e){throw console.error("Token refresh error:",e),e}}async function f(){console.log("forceLogout called");try{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),await fetch("/api/auth/clear",{method:"POST",credentials:"include"}),window.__APOLLO_CLIENT__&&await window.__APOLLO_CLIENT__.clearStore().catch(e=>console.error("Error clearing Apollo cache:",e));let e=window.location.pathname,t=new URL("/account/login",window.location.origin);"/account/login"!==e&&t.searchParams.set("next",e),t.searchParams.set("sessionExpired","true"),window.location.assign(t.toString())}catch(e){console.error("Error in forceLogout:",e),window.location.href="/account/login?sessionExpired=true"}}let y=(0,i.S)(e=>{var t,r,n;let{graphQLErrors:a,operation:o,forward:l}=e;if(!a)return;let s=a.map(e=>({message:e.message,extensions:e.extensions,path:e.path})),i=s.find(e=>{var t,r,n;let a=e.extensions,o=(null==a||null==(t=a.exception)?void 0:t.code)||(null==a?void 0:a.code),l=(null==(r=e.message)?void 0:r.includes("signature has expired"))||(null==(n=e.message)?void 0:n.includes("Token is invalid or expired"));return"UNAUTHENTICATED"===o||"ExpiredSignatureError"===o||l});if(console.log("Auth error detected:",{hasAuthError:!!i,graphQLErrors:s.map(e=>{var t,r,n;return{message:e.message,path:e.path,code:(null==(r=e.extensions)||null==(t=r.exception)?void 0:t.code)||(null==(n=e.extensions)?void 0:n.code)}}),isServer:!1,authError:i?{message:i.message,code:(null==(r=i.extensions)||null==(t=r.exception)?void 0:t.code)||(null==(n=i.extensions)?void 0:n.code),path:i.path}:void 0}),!i)return;let d=m();return v||(v=!0,g(d).then(e=>{let{token:t,refreshToken:r}=e;if(t&&r)localStorage.setItem("token",t),localStorage.setItem("refreshToken",r),x.forEach(e=>e(t)),x=[];else f()}).catch(e=>{console.error("Token refresh failed:",e),f()}).finally(()=>{v=!1})),new c.c(e=>(x.push(t=>{if(!t){f(),e.error(i);return}let r=o.getContext().headers||{};o.setContext({headers:{...r,authorization:"JWT ".concat(t)}});let n={next:e.next.bind(e),error:t=>{var r;((null==(r=t.message)?void 0:r.includes("signature has expired"))||"graphQLErrors"in t&&Array.isArray(t.graphQLErrors)&&t.graphQLErrors.some(e=>{var t;return(null==(t=e.extensions)?void 0:t.code)==="UNAUTHENTICATED"}))&&f(),e.error(t)},complete:e.complete.bind(e)},a=l(o).subscribe(n);return()=>{a.unsubscribe()}}),()=>{x=[]}))}),w=new a.R({link:(0,o.H)([y,p,h]),cache:new l.D,ssrMode:!1,defaultOptions:{watchQuery:{fetchPolicy:"cache-first",errorPolicy:"all"},query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"}}});window.__APOLLO_CLIENT__=w;let b=w},54450:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(54568),a=r(62942),o=r(7620);function l(){let e=(0,a.usePathname)(),[t,r]=(0,o.useState)("");return(0,o.useEffect)(()=>{let t=setTimeout(()=>{r("Navigated to ".concat((()=>{var t;if("undefined"!=typeof document&&document.title)return document.title;if("/"===e)return"Home page";let r=null==(t=e.split("/").filter(Boolean).pop())?void 0:t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());return r?"".concat(r," page"):"Page loaded"})()))},100);return()=>clearTimeout(t)},[e]),(0,n.jsx)("div",{role:"status","aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:t})}},55276:(e,t,r)=>{"use strict";r.d(t,{NavBar:()=>en});var n=r(54568),a=r(7620),o=r(64026),l=r(53706),s=r(62942),i=r(7155),c=r(28022),d=r(32042),u=r(78604),m=r(27261),h=r.n(m);let p=e=>{if(!e)return e;try{if(e.startsWith("http://")||e.startsWith("https://")){let t=new URL(e);return t.pathname+t.search+t.hash}return e}catch(t){return e}};var v=r(24338);let x=[{name:"Home",href:"/"},{name:"Shop By Category",href:"/products/all"},{name:"About",href:"/about"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact-us"}],g=e=>{let{isHamMenuOpen:t,setIsHamMenuOpen:r,menuItems:m=[]}=e,g=(0,s.useRouter)(),{isDealerLocatorEnabled:f}=(0,u.h)(),y=(0,o.A)(e=>e.isLoggedIn),w=(0,o.A)(e=>e.logout),[b,j]=(0,a.useState)(new Set),[k,N]=(0,a.useState)(!1),C="true"===v.env.NEXT_PUBLIC_BLOCK_CHECKOUT,_=(0,s.usePathname)(),L=new Set(x.map(e=>e.name.toLowerCase())),E=m.filter(e=>!L.has(e.name.toLowerCase())),P=(e,t)=>{r(!1);let n=(e=>{let t=null==e?void 0:e.find(e=>"target"===e.key);return(null==t?void 0:t.value)==="_blank"?"_blank":"_self"})(t),a=p(e);"_blank"===n?window.open(a,"_blank","noopener,noreferrer"):g.push(a)},A=async()=>{if(!k)try{N(!0),r(!1),await w()}catch(e){window.location.href="/"}finally{N(!1)}};return(0,a.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),(0,n.jsx)("div",{className:(0,l.cn)("fixed top-[140px] sm:top-[121px] md:top-[125px] left-0 w-full h-full bg-white z-40 transition-all duration-[400ms] ease-in-out",t?"translate-x-0":"-translate-x-full"),children:(0,n.jsxs)("div",{className:"py-6 px-4 md:px-6 flex flex-col",children:[x.map(e=>(0,n.jsx)("div",{onClick:()=>P(e.href),className:"block pb-4 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer ".concat(e.href===_?"text-[var(--color-primary-500)]":""),children:e.name},e.href)),E.map(e=>(0,n.jsx)("div",{children:e.children&&e.children.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between pb-4 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer",onClick:()=>(e=>{j(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})})(e.id),children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"size-4 transition-transform duration-300 ".concat(b.has(e.id)?"rotate-180":""),children:i.D})]}),b.has(e.id)&&(0,n.jsx)("div",{className:"ml-4 border-l border-gray-200 mb-6",children:e.children.map(e=>(0,n.jsx)("div",{onClick:()=>P(e.url,e.metadata),className:"block py-3 pl-4 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer text-sm",children:e.name},e.id))})]}):(0,n.jsx)("div",{onClick:()=>P(e.url,e.metadata),className:"block pb-4 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer ".concat("/contact-us"===_&&"Contact"===e.name||"/frequently-asked-questions"===_&&"FAQ"===e.name?"text-[var(--color-primary-500)]":""),children:e.name})},e.id)),C?null:y?(0,n.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-400",children:[(0,n.jsxs)("div",{onClick:()=>P("/account"),className:"flex items-center gap-2 py-3 hover:bg-gray-100 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer rounded",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),(0,n.jsx)("span",{children:"Account Dashboard"})]}),(0,n.jsxs)("div",{onClick:A,className:"flex items-center gap-2 py-3 hover:bg-gray-100 hover:text-[var(--color-primary-500)] transition-all duration-300 ease-in-out cursor-pointer rounded",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),(0,n.jsx)("span",{children:k?"Logging out...":"Logout"})]})]}):(0,n.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-400",children:(0,n.jsx)(h(),{href:"/account/login",onClick:()=>r(!1),children:(0,n.jsx)(d.A,{className:"w-full text-base",content:"LOGIN"})})}),f()&&(0,n.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-400",children:(0,n.jsx)(c.A,{className:"w-full text-base",content:"FIND A DEALER",onClick:()=>P("/locator")})})]})})};var f=r(26684);let y=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 20",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_968_1434)",children:[(0,n.jsx)("path",{d:"M16.125 4.375L4.875 15.625",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M16.125 15.625L4.875 4.375",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_968_1434",children:(0,n.jsx)("rect",{width:20,height:20,fill:"white",transform:"translate(0.5)"})})})]}),w=(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:(0,n.jsx)("path",{d:"M17.5 10C17.5 10.1658 17.4342 10.3247 17.3169 10.4419C17.1997 10.5592 17.0408 10.625 16.875 10.625H3.125C2.95924 10.625 2.80027 10.5592 2.68306 10.4419C2.56585 10.3247 2.5 10.1658 2.5 10C2.5 9.83424 2.56585 9.67527 2.68306 9.55806C2.80027 9.44085 2.95924 9.375 3.125 9.375H16.875C17.0408 9.375 17.1997 9.44085 17.3169 9.55806C17.4342 9.67527 17.5 9.83424 17.5 10ZM3.125 5.625H16.875C17.0408 5.625 17.1997 5.55915 17.3169 5.44194C17.4342 5.32473 17.5 5.16576 17.5 5C17.5 4.83424 17.4342 4.67527 17.3169 4.55806C17.1997 4.44085 17.0408 4.375 16.875 4.375H3.125C2.95924 4.375 2.80027 4.44085 2.68306 4.55806C2.56585 4.67527 2.5 4.83424 2.5 5C2.5 5.16576 2.56585 5.32473 2.68306 5.44194C2.80027 5.55915 2.95924 5.625 3.125 5.625ZM16.875 14.375H3.125C2.95924 14.375 2.80027 14.4408 2.68306 14.5581C2.56585 14.6753 2.5 14.8342 2.5 15C2.5 15.1658 2.56585 15.3247 2.68306 15.4419C2.80027 15.5592 2.95924 15.625 3.125 15.625H16.875C17.0408 15.625 17.1997 15.5592 17.3169 15.4419C17.4342 15.3247 17.5 15.1658 17.5 15C17.5 14.8342 17.4342 14.6753 17.3169 14.5581C17.1997 14.4408 17.0408 14.375 16.875 14.375Z",fill:"currentColor"})}),b=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_476_23733)",children:[(0,n.jsx)("path",{d:"M10 12.5C12.7614 12.5 15 10.2614 15 7.5C15 4.73858 12.7614 2.5 10 2.5C7.23858 2.5 5 4.73858 5 7.5C5 10.2614 7.23858 12.5 10 12.5Z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2.5 16.875C4.01328 14.2602 6.76172 12.5 10 12.5C13.2383 12.5 15.9867 14.2602 17.5 16.875",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_476_23733",children:(0,n.jsx)("rect",{width:20,height:20,fill:"white"})})})]}),j=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",focusable:"false",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_412_11594)",children:[(0,n.jsx)("path",{d:"M6.875 18.125C7.56536 18.125 8.125 17.5654 8.125 16.875C8.125 16.1846 7.56536 15.625 6.875 15.625C6.18464 15.625 5.625 16.1846 5.625 16.875C5.625 17.5654 6.18464 18.125 6.875 18.125Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M15 18.125C15.6904 18.125 16.25 17.5654 16.25 16.875C16.25 16.1846 15.6904 15.625 15 15.625C14.3096 15.625 13.75 16.1846 13.75 16.875C13.75 17.5654 14.3096 18.125 15 18.125Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M1.25 2.5H3.125L5.99609 12.8344C6.06916 13.0976 6.22643 13.3296 6.44384 13.4949C6.66126 13.6603 6.92685 13.7499 7.2 13.75H14.9219C15.1952 13.7501 15.4609 13.6605 15.6785 13.4952C15.8961 13.3298 16.0535 13.0977 16.1266 12.8344L18.125 5.625H3.99297",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_412_11594",children:(0,n.jsx)("rect",{width:20,height:20,fill:"white"})})})]});var k=r(79242),N=r(94275),C=r.n(N);let _=a.forwardRef((e,t)=>{let{label:r,name:a,error:o,suffix:l,className:s="",...i}=e,c=a?"".concat(a,"-error"):void 0;return(0,n.jsxs)("div",{className:"jsx-a0da2668211ac59f flex flex-col gap-1.5 w-full",children:[r&&(0,n.jsx)("label",{style:{color:"var(--color-secondary-200)"},htmlFor:a,className:"jsx-a0da2668211ac59f text-sm font-secondary -tracking-wide",children:r}),(0,n.jsxs)("div",{className:"jsx-a0da2668211ac59f relative",children:[(0,n.jsx)("input",{style:{backgroundColor:"white",border:o?"var(--color-primary-600)":"var(--color-secondary-600)"},autoComplete:"off",id:a,name:a,ref:t,"aria-invalid":o?"true":void 0,"aria-describedby":o&&c?c:void 0,...i,className:"jsx-a0da2668211ac59f "+(i&&null!=i.className&&i.className||"border font-secondary !placeholder-[var(--color-secondary-400)] placeholder:font-normal px-4 py-3 text-sm leading-6\n            focus:outline-none custom-placeholder !bg-transparent w-full\n            ".concat(l?"pr-12":"","\n            ").concat(s))}),l&&(0,n.jsx)("div",{"aria-hidden":"true",style:{color:"var(--color-secondary-400)"},className:"jsx-a0da2668211ac59f absolute right-3 top-1/2 transform -translate-y-1/2 text-sm pointer-events-none",children:l})]}),o&&(0,n.jsx)("p",{id:c,role:"alert",className:"jsx-a0da2668211ac59f text-xs text-red-500",children:o}),(0,n.jsx)(C(),{id:"a0da2668211ac59f",children:".custom-placeholder.jsx-a0da2668211ac59f::placeholder{color:var(--color-secondary-500)}"})]})});_.displayName="InputField";let L=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"7",viewBox:"0 0 12 7",fill:"none","aria-hidden":"true",focusable:"false",children:(0,n.jsx)("path",{d:"M11 6L6 1L1 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),E=e=>{let{className:t}=e,r=(0,s.useRouter)(),i=(0,s.usePathname)(),c=(0,o.o)(e=>e.isYMMActive),d=(0,s.useSearchParams)().get("fitment_pairs"),[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)([]),[w,b]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),C=(0,a.useRef)(null),E=(0,a.useRef)(null),P=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{var e;if(P.current){P.current=!1;return}if(!u||u.trim().length<2){y([]),b([]),N([]),x(!1);return}x(!0),u.trim().length>=2&&p(!0);let t=new AbortController;null==(e=C.current)||e.abort(),C.current=t;let r=setTimeout(async()=>{try{if(c){let e=await k.z4.searchProductsPL({q:u.trim(),page:1,per_page:10,fitment_pairs:d||""});if(!t.signal.aborted){let t=e.products.map(e=>({id:e.id,name:e.name,slug:e.slug,updatedAt:"",category:e.category||(e.category_name?{id:e.category_id||"",name:e.category_name}:null),thumbnail:e.thumbnail||(e.primary_image?{url:e.primary_image,alt:e.name}:null)})),r=e.facets.categories.map(e=>({id:e.id,name:e.value,slug:e.value.toLowerCase().replace(/\s+/g,"-"),level:0,parent:null,backgroundImage:e.media?{url:e.media,alt:e.value}:null,products:{totalCount:e.count}})),n=e.facets.brands.map(e=>({id:e.id,name:e.value,slug:e.value.toLowerCase().replace(/\s+/g,"-"),hasVariants:!1}));y(t),b(r),N(n)}}else{let a=await k.z4.globalSearchStorefront({query:u.trim(),channel:"default-channel",includeProducts:!0,includeCategories:!0,includeCollections:!1,includeProductTypes:!0});if(!t.signal.aborted){var e,r,n;y((null==(e=a.products)?void 0:e.edges.map(e=>e.node))||[]),b((null==(r=a.categories)?void 0:r.edges.map(e=>e.node))||[]),N((null==(n=a.productTypes)?void 0:n.edges.map(e=>e.node))||[])}}}catch(e){t.signal.aborted||(y([]),b([]),N([]))}finally{t.signal.aborted||x(!1)}},300);return()=>{clearTimeout(r),t.abort()}},[u,c]),(0,a.useEffect)(()=>{let e=e=>{if(!h)return;let t=e.target;E.current&&!E.current.contains(t)&&p(!1)},t=e=>{"Escape"===e.key&&p(!1)};return document.addEventListener("click",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",t)}},[h]),(0,n.jsxs)("div",{ref:E,style:{border:"1px solid black",backgroundColor:"white"},className:(0,l.cn)("flex items-center relative max-w-[560px] px-4 py-2.5 max-h-10 justify-between w-full",t),children:[(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u.trim()&&(e=>{if("/products/all"===i){let t=new URLSearchParams;e.q&&t.set("q",e.q);let n=t.toString()?"/products/all?".concat(t.toString()):"/products/all";r.replace(n,{scroll:!1})}else{let t=new URLSearchParams;e.q&&t.set("q",e.q);let n=t.toString()?"/products/all?".concat(t.toString()):"/products/all";r.push(n)}p(!1)})({q:u.trim()})},className:"flex items-center w-full bg-transparent h-full justify-center",role:"search",children:[(0,n.jsx)("label",{htmlFor:"header-search",className:"sr-only",children:"Search products"}),(0,n.jsx)(_,{className:"leading-none !bg-transparent w-full !px-0 !py-0 ",name:"header-search",type:"search",placeholder:"Search product",value:u,onChange:e=>m(e.target.value),onFocus:()=>u.trim().length>=2&&p(!0)}),(0,n.jsx)("button",{type:"submit",className:"h-full","aria-label":"Search",children:(0,n.jsx)("span",{className:"text-black","aria-hidden":"true",children:f.W})})]}),h&&(null==u?void 0:u.length)>1&&(0,n.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border shadow-[0_10px_20px_0_rgba(0,0,0,0.10)] border-[var(--color-secondary-200)] z-40",children:(0,n.jsxs)("div",{className:" max-h-80 flex flex-col gap-2 overflow-auto p-3",children:[g.length>0&&(0,n.jsxs)("div",{className:"border-b border-gray-200 pb-2 mb-2",children:[(0,n.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Products"}),g.slice(0,8).map(e=>(0,n.jsxs)("button",{onClick:t=>{t.stopPropagation();let n=e.id?"/product/".concat(e.slug,"?pid=").concat(encodeURIComponent(e.id)):"/product/".concat(e.slug);r.push(n),p(!1)},className:"w-full font-secondary p-3 text-left hover:bg-[var(--color-secondary-200)] flex items-center justify-between -tracking-[0.035px] text-[var(--color-secondary-800)] text-base transition-colors duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"w-12 h-12 flex-shrink-0 bg-gray-100 rounded overflow-hidden",children:e.thumbnail?(0,n.jsx)("img",{src:(0,l.m_)(e.thumbnail.url),alt:e.thumbnail.alt||e.name,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none",t.parentElement.innerHTML='<div class="w-full h-full bg-gray-200 flex items-center justify-center text-gray-400 text-xs">No Image</div>'}}):(0,n.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400 text-xs",children:"No Image"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"truncate font-medium text-sm",children:e.name}),e.category&&(0,n.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Category: ",e.category.name]}),(0,n.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"View Product Details →"})]})]}),(0,n.jsx)("span",{className:"rotate-90 ml-2 text-gray-400",children:L})]},e.id))]}),w.length>0&&(0,n.jsxs)("div",{className:"border-b border-gray-200 pb-2 mb-2",children:[(0,n.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Categories"}),w.slice(0,4).map(e=>{var t;return(0,n.jsxs)("button",{onClick:t=>{t.stopPropagation(),P.current=!0,m(e.name),p(!1);try{var n;null==(n=document.activeElement)||n.blur()}catch(e){}r.push("/category/".concat(encodeURIComponent(e.slug)))},className:"w-full font-secondary p-2 text-left hover:bg-[var(--color-secondary-200)] flex items-center justify-between -tracking-[0.035px] text-[var(--color-secondary-800)] text-base ",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(null==(t=e.backgroundImage)?void 0:t.url)&&(0,n.jsx)("div",{className:"w-10 h-10 flex-shrink-0 bg-gray-100 rounded overflow-hidden",children:(0,n.jsx)("img",{src:(0,l.m_)(e.backgroundImage.url),alt:e.backgroundImage.alt||e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,n.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.products.totalCount,")"]})]})]}),(0,n.jsx)("span",{className:" rotate-90 ml-2",children:L})]},"cat-".concat(e.id))})]}),j.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Product Types"}),j.slice(0,3).map(e=>(0,n.jsxs)("button",{onClick:t=>{t.stopPropagation(),P.current=!0,m(e.name),p(!1);try{var n;null==(n=document.activeElement)||n.blur()}catch(e){}r.push("/brand/".concat(encodeURIComponent(e.slug)))},className:"w-full font-secondary p-2 text-left hover:bg-[var(--color-secondary-200)] flex items-center justify-between -tracking-[0.035px] text-[var(--color-secondary-800)] text-base ",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"text-xs text-gray-500 bg-blue-100 px-1 rounded",children:"Type"})]}),(0,n.jsx)("span",{className:" rotate-90 ml-2",children:L})]},"pt-".concat(e.id)))]}),!v&&!g.length&&!w.length&&!j.length&&u.trim().length>=2&&(0,n.jsx)("div",{className:" text-sm text-gray-500",children:"No Results found"}),v&&(0,n.jsx)("div",{className:"text-sm text-gray-500 font-secondary",children:"Searching…"})]})})]})};var P=r(61773);let A={navLinkBase:"font-secondary font-medium w-auto text-black hover:text-[var(--color-primary-500)] transition-all ease-in-out duration-300 relative group",navLinkActive:"text-[var(--color-primary)] after:w-full",navLinkInactive:"text-[var(--color-secondary-50)]",navLinkWithUnderline:"after:bg-[var(--color-primary-500)] after:transition-all after:duration-300",iconBtnBase:"cursor-pointer transition-all text-black ease-in-out duration-300 hover:bg-[var(--color-secondary-900)] hover:text-[var(--color-primary-500)]",mobileContainer:"xl:hidden flex items-center py-5 px-6 bg-white border-b-4 border-[var(--color-primary-500)] text-sm font-semibold",desktopContainer:"hidden xl:flex w-full items-center justify-between gap-10 py-5 px-20 bg-white border-b-4 border-[var(--color-primary-500)] text-sm font-semibold",linksContainer:"grid auto-cols-auto grid-flow-col gap-10 items-center w-auto",actionsContainer:"ml-auto flex w-full items-center gap-2",brandContainer:"flex-shrink-0 relative w-[133px] flex items-center h-[40px]",dropdown:{container:"absolute top-full left-0 mt-2 p-2 bg-white shadow-lg rounded-md  min-w-48 z-50",item:"block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[var(--color-primary-500)] transition-colors"},cartBadge:"absolute -right-0.5 -top-1.5 lg:-right-1 lg:-top-1.5 flex size-5 items-center justify-center rounded-full text-xs bg-[var(--color-primary-600)] text-[var(--color-secondary-800)]"},S=e=>{let{logo:t,brandName:r,width:a=133,height:o=40}=e;return(0,n.jsx)(h(),{href:"/",prefetch:!1,className:A.brandContainer,"aria-label":"".concat(r," Home"),children:(0,n.jsx)(P.default,{src:t,alt:r,width:a,height:o,priority:!0})})},T=e=>{let{count:t}=e;return t<=0?null:(0,n.jsx)("span",{className:A.cartBadge,"aria-label":"".concat(t," items in cart"),children:t})},I=e=>{let{isEnableSearch:t,toggleSearch:r,isHamMenuOpen:a,toggleHamMenu:o,logo:l,brandName:s,isLoggedIn:i,totalItems:c,syncingCart:u,isActive:m}=e;return(0,n.jsx)("div",{className:A.mobileContainer,children:t?(0,n.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,n.jsx)(E,{className:"w-full max-w-none"}),(0,n.jsx)("button",{onClick:r,className:"[&>svg]:size-5 py-2.5 text-black cursor-pointer","aria-label":"Close search",children:y})]}):(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:o,className:"[&>svg]:size-5 py-2.5 text-black cursor-pointer","aria-label":a?"Close menu":"Open menu","aria-expanded":a,children:a?y:w}),(0,n.jsx)(S,{logo:l,brandName:s,width:107,height:32})]}),(0,n.jsxs)("div",{className:"flex w-fit items-center gap-4",children:[(0,n.jsx)("button",{onClick:r,className:"text-black py-2.5 hover:text-[var(--color-primary-500)] cursor-pointer transition-all ease-in-out duration-300","aria-label":"Open search",children:f.W}),i?(0,n.jsx)(h(),{href:"/account",prefetch:!1,className:"flex items-center !bg-transparent ".concat(A.iconBtnBase," ").concat(m("/account")?"text-[var(--color-primary-500)]":A.navLinkInactive," relative"),"aria-label":"User Account",children:b}):(0,n.jsx)(h(),{href:"/account/login",prefetch:!1,children:(0,n.jsx)(d.A,{className:"text-xs md:text-base px-4",content:"LOGIN"})}),(0,n.jsxs)(h(),{href:"/cart",prefetch:!1,className:"flex items-center py-2.5 !bg-transparent ".concat(A.iconBtnBase," ").concat(m("/cart")?"text-[var(--color-primary-500)]":A.navLinkInactive," relative"),"aria-label":"Cart with ".concat(c," items"),children:[j,u?(0,n.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 border border-[var(--color-primary-600)] rounded-full border-t-transparent animate-spin","aria-label":"Syncing cart"}):(0,n.jsx)(T,{count:c})]})]})]})})};var M=r(21778);let q=["EZ Oil Drain Valve","Optional Hose Ends","Threaded Hose Ends","Adapters","Accessories"];function D(e){let{isOpen:t,categories:r,onClose:a,onMouseEnter:o,onMouseLeave:l}=e;return(0,n.jsx)("div",{style:{backgroundColor:"white"},className:"absolute top-full max-h-[400px] overflow-y-auto left-0 shadow-[0_10px_20px_0_rgba(0,0,0,0.10)] px-6 py-8 z-50 mt-1 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),onMouseEnter:o,onMouseLeave:l,children:(0,n.jsx)("div",{className:"min-w-[304px] mx-auto",children:0===r.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,n.jsx)("div",{className:"rounded-full bg-[var(--color-secondary-200)] p-6",children:(0,n.jsx)("span",{children:M.q})}),(0,n.jsx)("h3",{className:"text-sm font-semibold uppercase text-[var(--color-secondary-800)] mt-4 -tracking-[0.05px] font-secondary",children:"No Categories Found"}),(0,n.jsx)("p",{className:"text-xs text-[var(--color-secondary-600)] mt-1 -tracking-[0.035px] font-secondary",children:"Categories will appear here when available."})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"grid grid-cols-1 gap-12",children:r.map(e=>{var t;return(0,n.jsxs)("div",{className:"group/category",children:[(0,n.jsx)(h(),{href:"/category/".concat(encodeURIComponent(e.slug||e.id)),onClick:a,className:"text-sm font-semibold uppercase leading-4 tracking-[-0.03px] inline-block hover:text-[var(--color-primary-500)]  transition-all duration-300 relative group",children:(0,n.jsx)("span",{className:"relative",children:e.name})}),(null==(t=e.children)?void 0:t.length)?(0,n.jsx)("ul",{className:"space-y-2 mt-3",children:[...e.children].sort((e,t)=>{let r=q.indexOf(e.name),n=q.indexOf(t.name);return -1===r&&-1===n?0:-1===r?1:-1===n?-1:r-n}).map(e=>(0,n.jsx)("li",{className:"text-sm leading-4 tracking-[-0.03px]",children:(0,n.jsx)(h(),{href:"/category/".concat(encodeURIComponent(e.slug||e.id)),onClick:a,className:"text-[var(--color-secondary-600)] hover:text-[var(--color-primary-500)]  transition-all duration-300 inline-block  relative group",children:(0,n.jsx)("span",{className:"relative",children:e.name})})},e.id))}):null]},e.id)})}),(0,n.jsx)("div",{className:"flex justify-center pt-2",children:(0,n.jsx)(h(),{href:"/products/all",onClick:a,className:"px-6 py-2 text-sm font-medium text-white hover:text-[var(--color-primary-600)] border hover:border-[var(--color-primary)] hover:bg-transparent bg-[var(--color-secondary-100)] transition-all duration-300",children:"View All Products"})})]})})})}let O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,[t,r]=(0,a.useState)(!1),n=(0,a.useRef)(null),o=(0,a.useCallback)(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),l=(0,a.useCallback)(()=>{o(),r(!0)},[o]),s=(0,a.useCallback)(()=>{o(),n.current=setTimeout(()=>{r(!1)},e)},[o,e]),i=(0,a.useCallback)(()=>{o(),r(!1)},[o]);return(0,a.useEffect)(()=>()=>{o()},[o]),{isOpen:t,handleMouseEnter:l,handleMouseLeave:s,close:i,setIsOpen:r}},R=e=>{var t;let{item:r,isActive:a}=e,{isOpen:o,handleMouseEnter:l,handleMouseLeave:s}=O(300),c=p(r.url);return(0,n.jsxs)("div",{className:"relative",onMouseEnter:l,onMouseLeave:s,children:[(0,n.jsx)(h(),{href:c,prefetch:!1,className:"".concat(A.navLinkBase," ").concat(a(c)?A.navLinkActive:A.navLinkInactive," whitespace-nowrap"),"aria-expanded":o,"aria-haspopup":"menu",children:(0,n.jsxs)("div",{className:"flex items-center  gap-2 transition-all ease-in-out duration-300",children:[(0,n.jsx)("span",{children:r.name}),(0,n.jsx)("span",{className:"size-4 transition-transform duration-300 ".concat(o?"rotate-180":""),"aria-hidden":"true",children:i.D})]})}),o&&(0,n.jsx)("div",{className:A.dropdown.container,onMouseEnter:l,onMouseLeave:s,role:"menu","aria-label":"".concat(r.name," submenu"),children:null==(t=r.children)?void 0:t.map(e=>(0,n.jsx)(h(),{href:p(e.url),prefetch:!1,className:A.dropdown.item,role:"menuitem",children:e.name},e.id))})]})},B=[{name:"Shop By Category",href:"/products/all"},{name:"About",href:"/about"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact-us"}],U=e=>{let{categories:t,menuItems:r,isActive:o}=e,l=O(50),c=(0,s.usePathname)(),d=(0,a.useMemo)(()=>r.map(e=>({...e,hasChildren:e.children&&e.children.length>0})),[r]),u=e=>"".concat(A.navLinkBase," ").concat(o(e)?A.navLinkActive:A.navLinkInactive," ").concat(A.navLinkWithUnderline),m=e=>{let t=null==e?void 0:e.find(e=>"target"===e.key);return(null==t?void 0:t.value)==="_blank"?"_blank":"_self"};return(0,n.jsxs)(n.Fragment,{children:[B.map(e=>"Shop By Category"===e.name?(0,n.jsxs)("div",{className:"relative",onMouseEnter:l.handleMouseEnter,onMouseLeave:l.handleMouseLeave,children:[(0,n.jsx)(h(),{href:e.href,className:"".concat(A.navLinkBase," ").concat(o(e.href)||c.startsWith("/category")?A.navLinkActive:A.navLinkInactive),"aria-expanded":l.isOpen,"aria-haspopup":"menu",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap transition-all ease-in-out duration-300",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"size-4 transition-transform duration-300 ".concat(l.isOpen?"rotate-180":""),"aria-hidden":"true",children:i.D})]})}),(0,n.jsx)(D,{isOpen:l.isOpen,categories:t,onClose:l.close,onMouseEnter:l.handleMouseEnter,onMouseLeave:l.handleMouseLeave})]},e.href):d&&d.length>0?null:(0,n.jsx)(h(),{href:e.href,className:"".concat(c===e.href?"text-[var(--color-primary-500)]":u(e.href)),children:e.name},e.href)),d.map(e=>{let t=p(e.url);return e.hasChildren?(0,n.jsx)(R,{item:e,isActive:o},e.id):t?(0,n.jsx)(h(),{href:t,target:m(e.metadata),rel:"_blank"===m(e.metadata)?"noopener noreferrer":void 0,className:"".concat("/contact-us"===c&&"Contact"===e.name||"/frequently-asked-questions"===c&&"FAQ"===e.name?"text-[var(--color-primary-500)]":u(t)," whitespace-nowrap"),children:e.name},e.id):null})]})},H=(0,n.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_1333_44203)",children:[(0,n.jsx)("path",{d:"M7 2.5H3V13.5H7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M7 8H14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M11.5 5.5L14 8L11.5 10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1333_44203",children:(0,n.jsx)("rect",{width:16,height:16,fill:"white"})})})]});function z(e){let{isAccountOpen:t,isLoggingOut:r,handleLogout:a}=e;return t?(0,n.jsxs)("div",{role:"menu","aria-label":"Account menu",style:{backgroundColor:"white"},className:"absolute right-0 mt-2 w-52 shadow-[0_10px_20px_0_rgba(0,0,0,0.10)] z-50",children:[(0,n.jsxs)(h(),{href:"/account/settings",className:"flex w-full items-center gap-2 font-secondary transition-all ease-in-out duration-300 border-b border-[var(--color-secondary-200)] rounded-md font-normal px-4 py-3 text-sm text-[var(--color-secondary-900)] hover:text-[var(--color-primary-500)]",role:"menuitem",children:[(0,n.jsx)("span",{className:"[&>svg]:size-4 text-[var(--color-primary-600)]",children:b}),"Account Dashboard"]}),(0,n.jsxs)("button",{onClick:a,disabled:r,className:"flex w-full items-center gap-2 font-secondary transition-all ease-in-out duration-300 rounded-md font-normal px-4 py-3 text-left text-sm text-[var(--color-secondary-900)] hover:text-[var(--color-primary-500)] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",role:"menuitem",children:[(0,n.jsx)("span",{className:"[&>svg]:size-4 text-[var(--color-primary-600)]",children:H}),r?"Signing Out...":"Logout"]})]}):null}var W=r(68456),F=r(81918),G=r(2244),V=r(75188),$=r(4881),Q=r(84705),X=r(12199),Z=r(19423),Y=r(99921),J=r(24338);function K(){let{cartItems:e,totalAmount:t,removeFromCart:r,updateQuantity:l,addToCart:i,checkoutId:c,setCheckoutId:d,setCheckoutToken:m,isLoggedIn:h,user:p,guestEmail:v}=(0,o.o)(),{getGoogleTagManagerConfig:x}=(0,u.h)(),g=(0,s.useRouter)(),[f,y]=(0,a.useState)(!1),[w,b]=(0,a.useState)(null),[j,k]=(0,a.useState)([]),[N,C]=(0,a.useState)({totalItems:0,totalAmount:0}),[_,L]=(0,a.useState)(!1),[E,A]=(0,a.useState)({}),{data:S,loading:T}=(0,G.IT)(F.D,{skip:!h}),I=(0,a.useMemo)(()=>{var e,t;let r=null==S?void 0:S.me;if(!r||!(null==(e=r.addresses)?void 0:e.length))return null;let n=null==(t=r.defaultShippingAddress)?void 0:t.id;return(n?r.addresses.find(e=>e.id===n):r.addresses[0])||null},[S]),M=(0,a.useMemo)(()=>{var e,t;let r=null==S?void 0:S.me;if(!r||!(null==(e=r.addresses)?void 0:e.length))return null;let n=null==(t=r.defaultBillingAddress)?void 0:t.id;return(n?r.addresses.find(e=>e.id===n):I||r.addresses[0])||null},[S,I]),q=(0,a.useMemo)(()=>{let e=(J.env.NEXT_PUBLIC_API_URL||"/api/graphql").trim();return/\/graphql\/?$/i.test(e)||(e=e.replace(/\/+$/,"")+"/graphql"),e},[]);(0,a.useEffect)(()=>{(async()=>{if(c&&!_&&0!==e.length)try{let n=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n                            query GetCheckoutDetails($id: ID!) {\n                                checkout(id: $id) {\n                                    id\n                                    totalPrice { gross { amount currency } }\n                                    subtotalPrice { gross { amount currency } }\n                                    lines {\n                                        id\n                                        quantity\n                                        totalPrice { gross { amount currency } }\n                                        variant {\n                                            id\n                                            name\n                                            product {\n                                                name\n                                                thumbnail { url }\n                                                pricing {\n                                                    discount { gross { amount currency } }\n                                                }\n                                            }\n                                            pricing {\n                                                price { gross { amount currency } }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        ",variables:{id:c}})});if(n.ok){var t,r;let a=await n.json(),o=null==a||null==(t=a.data)?void 0:t.checkout;if((null==o||null==(r=o.lines)?void 0:r.length)>0){let t=o.lines.map(t=>{var r,n,a;let o=e.find(e=>e.id===t.variant.id);if(!o)return null;let l=null!=(a=null==t||null==(n=t.totalPrice)||null==(r=n.gross)?void 0:r.amount)?a:0,s=Math.max(1,t.quantity);return{...o,price:l/s,quantity:t.quantity}}).filter(Boolean),r=t.reduce((e,t)=>e+t.quantity,0),n=t.reduce((e,t)=>e+t.price*t.quantity,0);k(t),C({totalItems:r,totalAmount:n}),L(!0)}}}catch(e){console.error("[CartDropdown] Failed to refresh prices from checkout:",e)}})()},[c,q,e,_]),(0,a.useEffect)(()=>{if(_&&j.length>0){let t=j.some(t=>!e.find(e=>e.id===t.id)),r=e.length!==j.length;(t||r)&&(L(!1),k([]),C({totalItems:0,totalAmount:0}))}},[e,j,_]),(0,a.useEffect)(()=>{0===e.length&&(j.length>0||_)&&(L(!1),k([]),C({totalItems:0,totalAmount:0}))},[e.length,j.length,_]);let D=_?j:e,O=_?N.totalAmount:t;(0,a.useEffect)(()=>{let t=x(),r=_?j:e;if(r.length>0){let e=r.map((e,t)=>({item_id:e.id,item_name:e.name,item_category:e.category||"Products",price:e.price,quantity:e.quantity,currency:"USD",index:t})),n=r.reduce((e,t)=>e+t.price*t.quantity,0);(0,Y.WP)(e,"USD",n,null==t?void 0:t.container_id)}},[e,j,_,x]);let R=(0,a.useCallback)(async t=>{A(e=>({...e,[t]:{...e[t],remove:!0}}));let n=x(),a=(_?j:e).find(e=>e.id===t);if(a){let e={item_id:a.id,item_name:a.name,item_category:a.category||"Products",price:a.price,quantity:a.quantity,currency:"USD",index:0},t=a.price*a.quantity;(0,Y.HO)([e],"USD",t,null==n?void 0:n.container_id)}try{_&&(k(e=>e.filter(e=>e.id!==t)),C(()=>{let e=j.filter(e=>e.id!==t),r=e.reduce((e,t)=>e+t.quantity,0),n=e.reduce((e,t)=>e+t.price*t.quantity,0);return{totalItems:r,totalAmount:n}})),r(t),await new Promise(e=>setTimeout(e,500))}finally{A(e=>({...e,[t]:{...e[t],remove:!1}}))}},[_,j,r]),B=(0,a.useCallback)(async(e,t)=>{A(t=>({...t,[e]:{...t[e],minus:!0}}));try{_&&k(r=>{let n=r.map(r=>r.id===e?{...r,quantity:Math.max(0,t)}:r).filter(e=>e.quantity>0),a=n.reduce((e,t)=>e+t.quantity,0),o=n.reduce((e,t)=>e+t.price*t.quantity,0);return C({totalItems:a,totalAmount:o}),n}),l(e,t),await new Promise(e=>setTimeout(e,500))}finally{A(t=>({...t,[e]:{...t[e],minus:!1}}))}},[_,l]),U=(0,a.useCallback)(async e=>{A(t=>({...t,[e.id]:{...t[e.id],plus:!0}}));try{await i({id:e.id,name:e.name,price:e.price,image:e.image,quantity:1,sku:e.sku,category:e.category}),L(!1)}catch(e){console.error("[CartDropdown] Failed to add item to cart:",e)}finally{A(t=>({...t,[e.id]:{...t[e.id],plus:!1}}))}},[i]),H=(0,a.useCallback)(async()=>{if(b(null),h&&T)return;let e=x();if(D.length>0){let t=D.map((e,t)=>({item_id:e.id,item_name:e.name,item_category:e.category||"Products",price:e.price,quantity:e.quantity,currency:"USD",index:t})),r=D.reduce((e,t)=>e+t.price*t.quantity,0);(0,Y.uP)(t,"USD",r,void 0,null==e?void 0:e.container_id)}c&&d(null);try{localStorage.removeItem("checkoutId"),localStorage.removeItem("checkoutToken")}catch(e){}y(!0);try{var t,r,n,a,o,l,s,i,u,f;let e=D.map(e=>({quantity:e.quantity,variantId:e.id}));if(0===e.length)return void y(!1);let c=(h?(null==p?void 0:p.email)||(null==S||null==(t=S.me)?void 0:t.email)||"":v)||"guest@example.com",x=W.Sr,w={channel:J.env.NEXT_PUBLIC_SALEOR_CHANNEL||"default-channel",email:c,lines:e},b=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:x,variables:{input:w}})});if(!b.ok)throw Error("Failed to create checkout");let j=await b.json(),k=null==(n=j.data)||null==(r=n.checkoutCreate)?void 0:r.errors;if(k&&k.length)throw Error((null==(a=k[0])?void 0:a.message)||"Checkout creation error");let N=null==(s=j.data)||null==(l=s.checkoutCreate)||null==(o=l.checkout)?void 0:o.id,C=null==(f=j.data)||null==(u=f.checkoutCreate)||null==(i=u.checkout)?void 0:i.token;if(!N)throw Error("No checkout id returned");d(N),C&&m(C);try{localStorage.setItem("checkoutId",N),C&&localStorage.setItem("checkoutToken",C)}catch(e){}g.push("/checkout?checkoutId=".concat(encodeURIComponent(N)))}catch(t){let e=t instanceof Error?t.message:"Unable to proceed to checkout";console.error("[Cart] handleProceed error:",t),b(e)}finally{y(!1)}},[M,I,c,q,v,h,D,S,T,g,d,m,null==p?void 0:p.email]);return 0===D.length?(0,n.jsx)("div",{className:"max-w-md w-full absolute right-20 top-20 pt-7",children:(0,n.jsxs)("div",{className:"bg-white shadow-[0_10px_20px_0_#0000001A] p-4",children:[(0,n.jsx)("p",{className:"border-b border-[var(--color-secondary-200)] pb-2 font-secondary font-semibold text-xl text-[var(--color-secondary-800)]",children:"MY CART"}),(0,n.jsx)($.A,{icon:Q.K,iconContainer:"p-5",text:"YOUR CART IS EMPTY",textParagraph:"Browse parts and accessories to get started.",className:"min-h-96"})]})}):(0,n.jsx)("div",{className:"max-w-md w-full absolute right-20 top-20 pt-7",children:(0,n.jsx)("div",{className:"bg-white shadow-[0_10px_20px_0_#0000001A] p-4",children:(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("p",{className:"border-b border-[var(--color-secondary-200)] pb-2 font-secondary font-semibold text-xl text-[var(--color-secondary-800)]",children:"MY CART"}),(0,n.jsx)("div",{className:"space-y-4 overflow-y-auto max-h-80 pr-2",children:D.map(e=>{var t,r,a,o,l,s,i,c,d,u,m,h,p,v,x,g,f,y,w;return(0,n.jsxs)("div",{className:"flex items-center gap-4 border-b border-[var(--color-secondary-200)] last:border-b-0 pb-4 last:pb-0",children:[(0,n.jsxs)("div",{className:"w-full items-center gap-2 flex",children:[(0,n.jsx)("div",{className:"relative size-[100px] flex-shrink-0",children:(0,n.jsx)(P.default,{src:(null==e?void 0:e.image)||"/no-image-avail-large.png",alt:(null==e?void 0:e.name)||"Product Image",fill:!0,className:"object-contain"})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal text-[var(--color-secondary-800)]",children:null!=(w=e.category)?w:"N/A"}),(0,n.jsx)("h3",{className:"font-medium font-secondary text-sm text-[var(--color-secondary-800)] line-clamp-2",children:e.name})]}),(0,n.jsxs)("p",{className:"font-semibold text-base text-[var(--color-primary-600)] font-secondary",children:["$",(e.price*e.quantity).toFixed(2)]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end gap-8",children:[(0,n.jsx)(V.A,{onClick:()=>R(e.id),disabled:(null==(t=E[e.id])?void 0:t.remove)||(null==(r=E[e.id])?void 0:r.plus)||(null==(a=E[e.id])?void 0:a.minus),variant:"tertiary",className:"p-0",children:(null==(o=E[e.id])?void 0:o.remove)?"Removing...":"Remove"}),(0,n.jsxs)("div",{className:"flex items-center border border-[var(--color-secondary-200)] bg-[var(--color-secondary-50)] px-2 py-3 gap-2 min-w-32 justify-between",children:[(0,n.jsx)("button",{onClick:()=>B(e.id,e.quantity-1),disabled:(null==(l=E[e.id])?void 0:l.minus)||(null==(s=E[e.id])?void 0:s.plus)||(null==(i=E[e.id])?void 0:i.remove),className:"border-r border-[var(--color-secondary-200)] [&>svg]:size-6 pr-2 transition-opacity ".concat((null==(c=E[e.id])?void 0:c.minus)||(null==(d=E[e.id])?void 0:d.plus)||(null==(u=E[e.id])?void 0:u.remove)?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-75"),children:(null==(m=E[e.id])?void 0:m.minus)?(0,n.jsxs)("svg",{className:"animate-spin size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):Z.Q}),(0,n.jsx)("span",{className:"font-normal text-base font-secondary text-[var(--color-secondary-800)]",children:e.quantity}),(0,n.jsx)("button",{onClick:()=>U(e),disabled:(null==(h=E[e.id])?void 0:h.plus)||(null==(p=E[e.id])?void 0:p.minus)||(null==(v=E[e.id])?void 0:v.remove),className:"border-l border-[var(--color-secondary-200)] [&>svg]:size-6 pl-2 transition-opacity ".concat((null==(x=E[e.id])?void 0:x.plus)||(null==(g=E[e.id])?void 0:g.minus)||(null==(f=E[e.id])?void 0:f.remove)?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-75"),children:(null==(y=E[e.id])?void 0:y.plus)?(0,n.jsxs)("svg",{className:"animate-spin size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):X.c})]})]})]},e.id)})}),(0,n.jsxs)("div",{className:"gap-2 flex flex-col mb-4 font-normal text-base font-secondary text-[var(--color-secondary-600)] border-t border-[var(--color-secondary-200)] pt-4",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Subtotal"}),(0,n.jsxs)("span",{className:"font-medium",children:["$",O.toFixed(2)]})]}),(0,n.jsxs)("div",{className:"border-t border-[var(--color-secondary-200)] pt-4 flex justify-between text-xl text-[var(--color-secondary-600)] font-medium ",children:[(0,n.jsx)("span",{children:"TOTAL"}),(0,n.jsxs)("span",{className:"font-semibold text-[var(--color-secondary-800)]",children:["$",O.toFixed(2)]})]})]}),w&&(0,n.jsx)("div",{className:"mb-3 text-sm text-red-600",children:w}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsx)(V.A,{onClick:()=>g.push("/cart"),variant:"secondary",children:"VIEW CART"}),(0,n.jsx)(V.A,{onClick:H,disabled:f||h&&T,variant:"primary",children:f?"Loading..":h&&T?"Loading your address...":"CHECKOUT"})]})]})})})}let ee=e=>{let{isLoggedIn:t,isAccountOpen:r,setIsAccountOpen:o,isLoggingOut:l,handleLogout:s,totalItems:i,syncingCart:m,toggleAccount:p,isActive:v}=e,x=(0,a.useRef)(null),{isDealerLocatorEnabled:g}=(0,u.h)();return(0,a.useEffect)(()=>{let e=e=>{if(!r)return;let t=e.target;x.current&&t&&!x.current.contains(t)&&o(!1)};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[r,o]),(0,n.jsxs)("div",{className:A.actionsContainer,children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-end",children:(0,n.jsx)(E,{})}),t?(0,n.jsxs)("div",{className:"relative",ref:x,children:[(0,n.jsx)("button",{onClick:p,className:"cursor-pointer size-10 flex items-center justify-center ".concat(A.iconBtnBase," ").concat(r?"bg-[var(--color-secondary-900)] text-white":A.navLinkInactive),"aria-label":"User Account","aria-expanded":r,"aria-haspopup":"menu",disabled:l,children:b}),(0,n.jsx)(z,{isAccountOpen:r,isLoggingOut:l,handleLogout:s})]}):(0,n.jsx)(h(),{href:"/account/login",prefetch:!1,children:(0,n.jsx)(d.A,{className:"text-base",content:"LOGIN"})}),g()&&(0,n.jsx)(h(),{href:"/locator",prefetch:!1,children:(0,n.jsx)(c.A,{className:"text-base whitespace-nowrap",content:"Find A Dealer"})}),(0,n.jsxs)("div",{className:"group cursor-pointer",children:[(0,n.jsxs)(h(),{href:"/cart",prefetch:!1,className:"size-10 flex items-center justify-center group-hover:bg-[var(--color-secondary-900)] group-hover:text-[var(--color-primary-500)] ".concat(A.iconBtnBase," ").concat(v("/cart")?"bg-[var(--color-secondary-900)] text-white":A.navLinkInactive," relative"),"aria-label":"Cart with ".concat(i," items"),children:[j,m?(0,n.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 border border-[var(--color-primary-600)] rounded-full border-t-transparent animate-spin","aria-label":"Syncing cart"}):(0,n.jsx)(T,{count:i})]}),(0,n.jsx)("div",{className:"opacity-0 transition-opacity duration-300 pointer-events-none group-hover:pointer-events-auto group-hover:opacity-100",children:(0,n.jsx)(K,{})})]})]})},et=function(){let{initialCategories:e=[],initialMenuItems:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{categories:(0,a.useMemo)(()=>e.map(e=>({...e,children:e.children||[]})),[e]),menuItems:t,hasData:e.length>0||t.length>0}};var er=r(24338);let en=e=>{let{initialCategories:t=[],initialMenuItems:r=[]}=e,{categories:l,menuItems:i}=et({initialCategories:t,initialMenuItems:r}),{isAccountOpen:c,setIsAccountOpen:d,isLoggingOut:u,setIsLoggingOut:m,isHamMenuOpen:h,setIsHamMenuOpen:p,isEnableSearch:v,isActive:x,toggleAccount:f,toggleHamMenu:y,toggleSearch:w}=(()=>{let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[o,l]=(0,a.useState)(()=>!1),[i,c]=(0,a.useState)(()=>!1),d=(0,s.usePathname)();(0,a.useEffect)(()=>{t(!1)},[d]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let u=(0,a.useCallback)(e=>d===e||d.startsWith("".concat(e,"/")),[d]),m=(0,a.useCallback)(()=>{t(e=>!e)},[]),h=(0,a.useCallback)(()=>{l(e=>!e)},[]),p=(0,a.useCallback)(()=>{c(e=>!e)},[]);return{isAccountOpen:e,setIsAccountOpen:t,isLoggingOut:r,setIsLoggingOut:n,isHamMenuOpen:o,setIsHamMenuOpen:l,isEnableSearch:i,setIsEnableSearch:c,pathName:d,isActive:u,toggleAccount:m,toggleHamMenu:h,toggleSearch:p}})(),b=(0,o.A)(e=>e.logout),j=(0,o.A)(e=>e.isLoggedIn),k=(0,o.A)(e=>e.totalItems),{syncingCart:N}=function(){let{isLoggedIn:e,syncingCart:t,loadCartFromSaleor:r}=(0,o.o)();return(0,a.useEffect)(()=>{e&&r().catch(console.error)},[e,r]),{syncingCart:t}}(),C=(0,a.useMemo)(()=>({brandName:er.env.NEXT_PUBLIC_TENANT_NAME||"default",logo:er.env.NEXT_PUBLIC_LOGO_URL||"https://webshopmanager.com/files/images/logo.png"}),[]),_=(0,a.useCallback)(async()=>{if(!u)try{m(!0),d(!1),await b()}catch(e){window.location.href="/"}finally{m(!1)}},[u,b,d,m]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I,{...C,isEnableSearch:v,toggleSearch:w,isHamMenuOpen:h,toggleHamMenu:y,isLoggedIn:j,totalItems:k,syncingCart:N,isActive:x}),(0,n.jsxs)("nav",{className:A.desktopContainer,children:[(0,n.jsxs)("div",{className:A.linksContainer,children:[(0,n.jsx)(S,{...C}),(0,n.jsx)(U,{categories:l,menuItems:i,isActive:x})]}),(0,n.jsx)(ee,{isLoggedIn:j,isAccountOpen:c,setIsAccountOpen:d,isLoggingOut:u,handleLogout:_,totalItems:k,syncingCart:N,toggleAccount:f,isActive:x})]}),(0,n.jsx)(g,{isHamMenuOpen:h,setIsHamMenuOpen:p,menuItems:i})]})}},58643:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(54568),a=r(7620),o=r(62942),l=r(99921),s=r(78604);function i(e){let{children:t}=e,r=(0,o.usePathname)(),{isAppActive:i,getGoogleTagManagerConfig:c}=(0,s.h)(),d=i("google_tag_manager"),u=c();return!function(e){let t=(0,a.useRef)(Date.now()),r=(0,a.useRef)(new Set),n=(0,a.useRef)(Date.now()),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!e)return;t.current=Date.now();let a=()=>{let t=Math.round((window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100);for(let n of[25,50,75,90])t>=n&&!r.current.has(n)&&(r.current.add(n),(0,l.vV)(n,window.location.pathname,e));n.current=Date.now()};return window.addEventListener("scroll",a,{passive:!0}),o.current=setInterval(()=>{let r=Date.now();if(r-n.current<3e4){let n=r-t.current;(0,l.Lg)(n,e)}},15e3),()=>{window.removeEventListener("scroll",a),o.current&&clearInterval(o.current);let r=Date.now()-t.current;r>1e3&&(0,l.Lg)(r,e)}},[e])}(d?null==u?void 0:u.container_id:null),(0,a.useEffect)(()=>{d&&(null==u?void 0:u.container_id)&&(0,l.TE)(window.location.href,void 0,u.container_id)},[r,d,u]),(0,n.jsx)(n.Fragment,{children:t})}},64059:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(7620),a=r(64026);function o(){let e=(0,a.o)(e=>e.checkYMMStatus);return(0,n.useEffect)(()=>{e()},[e]),null}},73139:()=>{},73827:(e,t,r)=>{"use strict";r.d(t,{TokenExpirationHandler:()=>l});var n=r(7620),a=r(64026),o=r(39302);function l(){let e=(0,a.o)(e=>e.logout),t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let r=async()=>{try{["token","refreshToken","user","auth","session","apollo-cache-persist","wsm-global-store"].forEach(e=>{try{localStorage.removeItem(e)}catch(e){}}),await (null==e?void 0:e())}catch(e){window.location.replace("/")}},n=()=>{t.current&&(clearTimeout(t.current),t.current=null);let e=localStorage.getItem("token");if(!e)return;let{isValid:n,expMs:a}=(e=>{try{let{exp:t}=(0,o.s)(e),r="number"==typeof t?1e3*t:null;return{isValid:!!r&&r>Date.now(),expMs:r}}catch(e){return{isValid:!1,expMs:null}}})(e);if(!n)return void r();if(a){let e=Math.max(a-Date.now()-3e4,0);e>0?t.current=window.setTimeout(()=>{r()},e):r()}},a=()=>n(),l=()=>{"visible"===document.visibilityState&&n()};return n(),window.addEventListener("focus",a),window.addEventListener("visibilitychange",l),()=>{t.current&&clearTimeout(t.current),window.removeEventListener("focus",a),window.removeEventListener("visibilitychange",l)}},[e]),null}},89431:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>i});var n=r(54568),a=r(7620),o=r(24338);let l=(0,a.createContext)(void 0),s=["asphalt","racing-red","chrome","sunset","forest-green","ocean-blue"];function i(e){let{children:t,defaultTheme:r,storageKey:i="ui-theme"}=e,c=r||function(){let e=o.env.NEXT_PUBLIC_THEME_PALETTE;return s.includes(e)?e:"asphalt"}(),[d,u]=(0,a.useState)(c);return(0,a.useEffect)(()=>{let e=document.documentElement,t=localStorage.getItem(i),r=s.includes(t)?t:c;e.setAttribute("data-theme",r),u(r)},[i,c]),(0,n.jsx)(l.Provider,{value:{theme:d,setTheme:e=>{s.includes(e)&&(document.documentElement.setAttribute("data-theme",e),localStorage.setItem(i,e),u(e))}},children:t})}}},e=>{e.O(0,[757,8854,959,5997,7678,7261,8745,4398,7537,1773,367,2244,8319,6499,2417,4367,9871,587,1902,7358],()=>e(e.s=21331)),_N_E=e.O()}]);